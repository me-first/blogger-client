{"version":3,"sources":["UI/LoadingSpinner.module.css","store/send-request.js","store/validate-form.js","store/auth-token.js","store/store.js","components/Button/Button.js","components/Layout/MainNavigation.js","components/Layout/Layout.js","assets/img/lightbulb-1875247.jpg","components/Blogs/BlogsHeader.js","api/api.js","components/Blogs/Blog.js","components/Blogs/BlogFilter.js","UI/LoadingSpinner.js","pages/Blogs.js","components/Blogs/BlogDetailHeader.js","components/Blogs/BlogDetailContent.js","components/Comments/Comments.js","components/Blogs/BlogDetailLikeAndComment.js","pages/BlogDetail.js","UI/Popup.js","components/Signup/SignupForm.js","pages/Signup.js","components/Login/LoginForm.js","pages/Login.js","components/Blogs/BlogPostForm.js","pages/BlogPost.js","pages/MyBlogs.js","components/MyProfileForm/MyProfileForm.js","pages/MyProfile.js","components/Blogs/BlogUpdateForm.js","pages/BlogUpdate.js","pages/NotFound.js","App.js","index.js"],"names":["module","exports","API_URL","cookies","Cookies","requestSlice","createSlice","name","initialState","isLoading","data","error","reducers","requestSend","state","dataArrived","action","payload","checkError","requestActions","actions","sendRequest","method","url","token","get","dispatch","a","axios","headers","authorization","response","console","log","message","formSlice","inputIsValid","emailIsValid","aboutIsValid","passwordIsValid","validName","validAbout","validEmail","trim","includes","validPassword","length","formActions","authSlice","isLoggedIn","user","login","logout","authActions","store","configureStore","reducer","request","form","auth","Button","props","classes","className","onClick","e","children","MainNavigation","history","useHistory","jwt","currentUser","JSON","parse","localStorage","getItem","useState","dropDown","setDropDown","useSelector","useDispatch","photo","logoutHandler","remove","path","removeItem","setTimeout","replace","to","prevState","cloudName","secure","publicId","type","alt","split","Layout","Fragment","BlogsHeader","src","coverImg","push","instance","create","baseURL","Blog","showOptions","setShowOptions","pathname","useLocation","date","Date","updatedAt","toLocaleDateString","day","month","year","readMoreHandler","id","undefined","title","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","api","delete","author","about","slice","BlogFilter","sortResultHandler","value","target","textContent","toLowerCase","onSort","filterResultHandler","onFilter","LoadingSpinner","updateClass","spinner","Blogs","filter","setFilter","sort","setSort","page","setPage","filterQuery","sortQuery","useEffect","blog","blogs","map","_id","BlogDetailHeader","image","BlogDetailContent","blogType","Comments","userPhoto","userName","comment","BlogDetailLikeAndComment","showComments","setShowComments","like","setLike","alreadyLiked","setAlreadyLiked","likedId","setLikedId","commentsArr","setCommentsArr","newComment","setNewComment","setIsLoading","commentInputRef","useRef","blogId","comments","likes","likedBlog","deleteLike","createLikeRequest","post","newLike","commentPostHandler","preventDefault","enteredComment","current","allComments","onSubmit","ref","defaultValue","autoFocus","minLength","d","BlogDetail","params","useParams","Popup","visible","setVisible","Alert","ReactDom","createPortal","document","getElementById","SignupForm","nameIsValid","set","expires","now","setItem","stringify","formIsValid","nameInputRef","emailInputRef","passwordInputRef","passwordConfirmInputRef","email","password","passwordConfirm","onBlur","enteredName","placeholder","enteredEmail","enteredPassword","enteredPasswordConfirm","Signup","LoginForm","Login","BlogPostForm","progress","setProgress","imageUrl","setImageUrl","urlError","setUrlError","titleIsValid","blogTypeInputRef","titleInputRef","aboutInputRef","imageUploadHandler","imageFile","files","FormData","append","onUploadProgress","progressEvent","loaded","total","percentage","Math","floor","submitHandler","enteredBlogType","enteredTitle","enteredAbout","htmlFor","rows","accept","onInput","BlogPost","MyBlogs","MyProfileForm","fileInputRef","currentPasswordInputRef","newPasswordInputRef","confirmPasswordInputRef","setUrl","uploadFileHandler","percent","alert","profileSubmitHandler","patch","updatePasswordHandler","enteredCurrentPass","enteredNewPass","enteredConfirmPass","passwordCurrent","MyProfile","setError","imageBlog","onChange","BlogUpdate","BlogUpdateForm","NotFound","App","exact","ReactDOM","render"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,QAAU,kC,kJCGtBC,EAAU,sCAEVC,EAAU,IAAIC,IAQPC,EAAeC,YAAY,CACtCC,KAAM,UACNC,aAR2B,CAC3BC,WAAW,EACXC,KAAM,GACNC,MAAO,MAMPC,SAAU,CACRC,YADQ,SACIC,GACVA,EAAML,WAAY,GAEpBM,YAJQ,SAIID,EAAOE,GACjBF,EAAML,WAAY,EAClBK,EAAMJ,KAAOM,EAAOC,QACpBH,EAAMH,MAAQ,MAEhBO,WATQ,SASGJ,EAAOE,GAChBF,EAAML,WAAY,EAClBK,EAAMH,MAAQK,EAAOC,YAKdE,EAAiBd,EAAae,QAE9BC,EAAc,SAACC,EAAQC,GAAoB,IAAfb,EAAc,uDAAP,GACxCc,EAAQrB,EAAQsB,IAAI,OAC1B,8CAAO,WAAOC,GAAP,eAAAC,EAAA,6DACLD,EAASP,EAAeN,eADnB,kBAGoBe,IAAM,CAC3BN,OAAQA,EACRC,IAAKrB,EAAUqB,EACfb,KAAMA,EACNmB,QAAS,CACPC,cAAc,UAAD,OAAYN,MAR1B,OAGGO,EAHH,OAaHL,EAASP,EAAeJ,YAAYgB,EAASrB,OAb1C,gDAeHsB,QAAQC,IAAI,KAAMF,SAASrB,MAC3BgB,EAASP,EAAeD,WAAW,KAAMa,SAASrB,KAAKwB,UAhBpD,yDAAP,uDC5BWC,EAAY7B,YAAY,CACnCC,KAAM,OACNC,aATuB,CACvB4B,cAAc,EACdC,cAAc,EACdC,cAAc,EACdC,iBAAiB,GAMjB3B,SAAU,CACR4B,UADQ,SACE1B,EAAOE,GACQ,KAAnBA,EAAOC,QAAgBH,EAAMsB,cAAe,EAC3CtB,EAAMsB,cAAe,GAE5BK,WALQ,SAKG3B,EAAOE,GACO,KAAnBA,EAAOC,QAAgBH,EAAMwB,cAAe,EAC3CxB,EAAMwB,cAAe,GAE5BI,WATQ,SASG5B,EAAOE,GACO,KAAnBA,EAAOC,SAAkBD,EAAOC,QAAQ0B,OAAOC,SAAS,KAC1D9B,EAAMuB,cAAe,EAClBvB,EAAMuB,cAAe,GAE5BQ,cAdQ,SAcM/B,EAAOE,GACI,KAAnBA,EAAOC,SAAkBD,EAAOC,QAAQ0B,OAAOG,QAAU,EAC3DhC,EAAMyB,iBAAkB,EACrBzB,EAAMyB,iBAAkB,MAKtBQ,EAAcZ,EAAUf,QC1BxB4B,EAAY1C,YAAY,CACnCC,KAAM,OACNC,aARuB,CACvBgB,MAAO,KACPyB,YAAY,EACZC,KAAM,MAMNtC,SAAU,CACRuC,MADQ,SACFrC,EAAOE,GACXF,EAAMU,MAAQR,EAAOC,QAAQO,MAC7BV,EAAMmC,aAAenC,EAAMU,MAC3BV,EAAMoC,KAAOlC,EAAOC,QAAQiC,MAE9BE,OANQ,SAMDtC,EAAOE,GACZF,EAAMU,OAAQ,EACdV,EAAMmC,YAAa,MAKZI,EAAcL,EAAU5B,QCXtBkC,EARDC,YAAe,CAC3BC,QAAS,CACPC,QAASpD,EAAamD,QACtBE,KAAMvB,EAAUqB,QAChBG,KAAMX,EAAUQ,W,8DCaLI,EApBA,SAACC,GACd,IAQMC,EACJD,EAAME,UACN,oGAEF,OACE,wBAAQC,QAba,SAACC,GAKtBJ,EAAMG,QAAQC,IAQmBF,UAAWD,EAA5C,SACGD,EAAMK,YCRP/D,EAAU,IAAIC,IAyGL+D,EAxGQ,WAAO,IAAD,EACrBC,EAAUC,cAEVC,EAAMnE,EAAQsB,IAAI,OAClB8C,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,SAEpD,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACM7B,EAAa8B,aAAY,SAACjE,GAAD,OAAWA,EAAM6C,KAAKnC,YAAY8C,EAE3DpB,EAAOqB,EACP7C,EAAWsD,cAEXC,EAAK,OAAG/B,QAAH,IAAGA,OAAH,EAAGA,EAAM+B,MAKdC,EAAgB,WACpB/E,EAAQgF,OAAO,MAAO,CAAEC,KAAM,MAC9BV,aAAaW,WAAW,QAGxBC,YAAW,WACT5D,EAAS2B,EAAYD,UACrBgB,EAAQmB,QAAQ,OACf,MAGL,OACE,yBAAQxB,UAAU,qDAAlB,UACE,cAAC,IAAD,CAASyB,GAAG,IAAIzB,UAAU,0BAA1B,qBAGA,qBAAKA,UAAS,UAAKd,EAAa,SAAW,GAA7B,eAAd,SACE,qBAAIc,UAAU,sBAAd,UACE,oBAAIA,UAAU,OAAd,SACE,cAAC,IAAD,CACEA,UAAU,qEACVyB,GAAG,SAFL,qBAOF,6BACE,cAAC,IAAD,CACEzB,UAAU,iFACVyB,GAAG,UAFL,4BASN,qBAAKzB,UAAS,UAAKd,EAAa,GAAK,SAAvB,KAAd,SACE,sBAAKc,UAAU,6BAAf,UACE,sBACEC,QA1Cc,WACtBc,GAAY,SAACW,GAAD,OAAgBA,MA0CpB1B,UAAU,oDAFZ,UAIE,cAAC,IAAD,CACE2B,UAAU,YACVC,OAAO,OACPC,SAAUX,EACVY,KAAK,QACLC,IAAI,WACJ/B,UAAU,gCAEZ,sCAAOb,QAAP,IAAOA,GAAP,UAAOA,EAAM3C,YAAb,aAAO,EAAYwF,MAAM,KAAK,QAEhC,sBACEhC,UAAS,UACPc,EAAW,QAAU,SADd,2FADX,UAKE,cAAC,IAAD,CACEW,GAAG,cACHzB,UAAU,uCAFZ,wBAMA,cAAC,IAAD,CACEyB,GAAG,YACHzB,UAAU,uCAFZ,sBAMA,qBACEC,QAASkB,EACTnB,UAAU,yCAFZ,uBAOF,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,CAAQC,QAASkB,EAAenB,UAAU,yBAA1C,+BC5FGiC,EATA,SAACnC,GACd,OACE,eAAC,IAAMoC,SAAP,WACE,cAAC,EAAD,IACA,+BAAOpC,EAAMK,eCPJ,MAA0B,8CCOnC/D,EAAU,IAAIC,IA8CL8F,EA7CK,WAClB,IAAM5B,EAAMnE,EAAQsB,IAAI,OAClBwB,EAAa8B,aAAY,SAACjE,GAAD,OAAWA,EAAM6C,KAAKV,iBAAiBqB,EAChEF,EAAUC,cAEhB,OACE,iCACE,yBAAQN,UAAU,WAAlB,UACE,qBAAKoC,IAAKC,EAAUN,IAAI,UACxB,6BAAY/B,UAAU,oCAAtB,UACE,qBAAKA,UAAU,yBAAf,8CAGA,qBAAKA,UAAS,UAAKd,EAAa,SAAW,IAA3C,SACE,sBAAKc,UAAU,kCAAf,UACE,cAAC,IAAD,CAAMyB,GAAG,SAASzB,UAAU,OAA5B,mBAGA,cAAC,IAAD,CAAMyB,GAAG,UAAUzB,UAAU,8BAA7B,0BAKJ,qBAAKA,UAAS,UAAKd,EAAa,GAAK,UAArC,SACE,sBAAKc,UAAU,4BAAf,UACE,sBACEC,QAAS,WACPI,EAAQiC,KAAK,eAEftC,UAAU,mDAJZ,UAME,qBAAKA,UAAU,+BACf,uDAEF,cAAC,IAAD,CAAMyB,GAAG,aAAazB,UAAU,8BAAhC,kCCpCCuC,EAJE1E,IAAM2E,OAAO,CAC5BC,QAFU,yCCMNrG,EAAU,IAAIC,IA0FLqG,EAzFF,SAAC5C,GACZ,MAAsCe,oBAAS,GAA/C,mBAAO8B,EAAP,KAAoBC,EAApB,KACMvC,EAAUC,cAEVuC,EADWC,cACSD,SACpBE,EAAO,IAAIC,KAAKlD,EAAMmD,WAAWC,mBAAmB,QAAS,CACjEC,IAAK,UACLC,MAAO,UACPC,KAAM,YAGFC,EAAkB,WACtBjD,EAAQiC,KAAR,iBAAuBxC,EAAMyD,MAoB/B,OACE,sBACEtD,QAAsB,cAAb4C,EAA2BS,OAAkBE,EACtDxD,UAAU,kEAFZ,UAIE,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,qBAAd,SAAoCF,EAAM2D,QAC1C,sBACExD,QAAS,WACP2C,GAAe,SAAClB,GAAD,OAAgBA,MAEjCgC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QACflE,UAAS,UACM,cAAb6C,EAA2B,GAAK,SADzB,4EAbX,UAiBE,wBAAQsB,GAAG,KAAKC,GAAG,KAAKC,EAAE,MAC1B,wBAAQF,GAAG,KAAKC,GAAG,IAAIC,EAAE,MACzB,wBAAQF,GAAG,KAAKC,GAAG,KAAKC,EAAE,YAG9B,sBACErE,UAAS,mCACP2C,EAAc,GAAK,SADZ,8EADX,UAKE,qBAAK1C,QAnDa,WACtBI,EAAQiC,KAAR,uBAA6BxC,EAAMyD,MAkDAvD,UAAU,0BAAzC,kBAGA,qBAAKC,QAlDe,WACxB,IAAMxC,EAAQrB,EAAQsB,IAAI,OAE1B4G,EAAIC,OAAJ,wBAA4BzE,EAAMyD,IAAM,CACtCzF,QAAS,CACPC,cAAc,UAAD,OAAYN,MAG7B8D,YAAW,WACTlB,EAAQiC,KAAK,OACZ,OAwCkCtC,UAAU,0BAA3C,uBAIF,sBAAKA,UAAU,uBAAf,UACE,mBAAGA,UAAU,gBAAb,SAA8BF,EAAM0E,SACpC,mBAAGxE,UAAU,gBAAb,SAA8B+C,OAEhC,gCACE,oBAAG/C,UAAU,0BAAb,UACG,UAAGF,EAAM2E,OAAQC,MAAM,EAAG,IAD7B,SAGA,cAAC,EAAD,CAAQzE,QAASqD,EAAiBtD,UAAU,cAA5C,8BCzBO2E,EA7DI,SAAC7E,GAElB,IAAM8E,EAAoB,SAAC1E,GACzB,IAAM2E,EAAQ3E,EAAE4E,OAAOC,YAAYC,cAEnClF,EAAMmF,OAAOJ,IAETK,EAAsB,SAAChF,GAC3B,IAAI2E,EAAQ3E,EAAE4E,OAAOC,YAAYC,cACnB,WAAVH,IAAoBA,EAAQ,SAEhC/E,EAAMqF,SAASN,IAGjB,OACE,eAAC,IAAM3C,SAAP,WACE,sBAAKlC,UAAU,sCAAf,UACE,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,kBAGA,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,wBAGA,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,qBAGA,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,oBAGA,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,2BAGA,cAAC,EAAD,CAAQC,QAASiF,EAAqBlF,UAAU,mBAAhD,uBAIF,sBAAKA,UAAU,mCAAf,UACE,0CACA,cAAC,EAAD,CACEC,QAAS2E,EACT5E,UAAU,sCAFZ,iBAMA,cAAC,EAAD,CACEC,QAAS2E,EACT5E,UAAU,sCAFZ,iBAMA,cAAC,EAAD,CACEC,QAAS2E,EACT5E,UAAU,sCAFZ,4B,kBCvCOoF,EAZQ,SAACtF,GACtB,OACE,qBACEE,UAAS,2CACPF,EAAMuF,YAAcvF,EAAMuF,YAAc,WADjC,KADX,SAKE,qBAAKrF,UAAS,UAAKD,IAAQuF,cCkFlBC,EAjFD,WAAO,IAAD,IAClB,EAA4B1E,mBAAS,IAArC,mBAAO2E,EAAP,KAAeC,EAAf,KACA,EAAwB5E,mBAAS,cAAjC,mBAAO6E,EAAP,KAAaC,EAAb,KACA,EAAwB9E,mBAAS,GAAjC,mBAAO+E,EAAP,KAAaC,EAAb,KACMnJ,EAAYsE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQhD,aACjDC,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CC,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAC7Ce,EAAWsD,cAEX6E,EAAgC,IAAlBN,EAAOzG,OAAe,GAAtB,oBAAwCyG,GAExDO,EAAS,kBACA,QAATL,IAAgBK,EAAY,mBACnB,QAATL,IAAgBK,EAAY,kBACnB,YAATL,IAAoBK,EAAY,eAEpCC,qBAAU,WACRrI,EACEL,EACE,MADS,wBAEQyI,GAFR,OAEoBD,EAFpB,iBAEwCF,EAFxC,gBAKZ,CAACjI,EAAUmI,EAAaC,EAAWH,IAEtC,IAkBMK,EAAI,OAAGtJ,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,iBAAG,EAAYuJ,aAAf,aAAG,EAAmBC,KAAI,SAACF,GAAD,OAClC,cAAC,EAAD,CAEE1C,GAAI0C,EAAKG,IACT5B,OAAQyB,EAAKzB,OAAOhI,KACpBiH,MAAOwC,EAAKxC,MACZR,UAAWgD,EAAKhD,UAChBwB,MAAOwB,EAAKxB,OALPwB,EAAKG,QASd,OACE,eAAC,EAAD,WACE,cAAC,EAAD,IACC1J,GAAa,cAAC,EAAD,IACd,yBAASsD,UAAU,QAAnB,SACE,cAAC,EAAD,CAAYmF,SAlCI,SAACN,GACrBY,EAAUZ,IAiC+BI,OA/BvB,SAACJ,GACnBc,EAAQd,QAgCLjI,GAAS,mBAAGoD,UAAU,qBAAb,SAAmCpD,IAC7C,kCAAUD,GAAQsJ,IAClB,0BAASjG,UAAU,kCAAnB,UACE,wBACEC,QAjCqB,WACvB2F,EAAO,GAAGC,GAAQ,SAACnE,GAAD,OAAeA,EAAY,MAiC3C1B,UAAU,qEAFZ,kBAMA,wBACEC,QAlCiB,WAAO,IAAD,GAChB,OAAGtD,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYuJ,MAAMnH,SAEnB,GAAG8G,GAAQ,SAACnE,GAAD,OAAeA,EAAY,MAgC/C1B,UAAU,qEAFZ,yBCzDOqG,EAnBU,SAACvG,GACxB,IAAMwG,EAAUxG,EAAVwG,MAEN,OACE,cAAC,IAAMpE,SAAP,UACE,iCACE,cAAC,IAAD,CACElC,UAAU,kBACV2B,UAAU,YACVC,OAAO,OACPC,SAAUyE,EACVxE,KAAK,QACLC,IAAI,kBCcCwE,EA5BW,SAACzG,GACzB,IAAM2D,EAA8C3D,EAA9C2D,MAAOgB,EAAuC3E,EAAvC2E,MAAOD,EAAgC1E,EAAhC0E,OAAQvB,EAAwBnD,EAAxBmD,UAAWuD,EAAa1G,EAAb0G,SAEvC,OACE,0BAASxG,UAAU,8BAAnB,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,oCAAd,SAAmDyD,MAErD,sBAAKzD,UAAU,oCAAf,UACE,oBAAIA,UAAU,UAAd,SAAyBwG,IACzB,sBAAKxG,UAAU,8BAAf,UACE,+BAAOwE,IACP,+BACG,IAAIxB,KAAKC,GAAWC,mBAAmB,QAAS,CAC/CC,IAAK,UACLC,MAAO,UACPC,KAAM,oBAKd,qBAAKrD,UAAU,qBAAf,SACE,mBAAGA,UAAU,eAAb,SAA6ByE,UCStBgC,EA9BE,SAAC3G,GAChB,IAAQ4G,EAA4C5G,EAA5C4G,UAAWC,EAAiC7G,EAAjC6G,SAAU1D,EAAuBnD,EAAvBmD,UAAW2D,EAAY9G,EAAZ8G,QAExC,OACE,sBAAK5G,UAAU,qDAAf,UACE,cAAC,IAAD,CACEA,UAAU,6BACV2B,UAAU,YACVC,OAAO,OACPC,SAAU6E,EACV5E,KAAK,QACLC,IAAI,aAEN,sBAAK/B,UAAU,OAAf,UACE,sBAAKA,UAAU,uDAAf,UACE,4BAAI2G,IACJ,mBAAG3G,UAAU,wBAAb,SACG,IAAIgD,KAAKC,GAAWC,mBAAmB,QAAS,CAC/CC,IAAK,UACLC,MAAO,UACPC,KAAM,iBAIZ,8BAAMuD,WCrBRxK,EAAU,IAAIC,IAoNLwK,EAlNkB,SAAC/G,GAAW,IAAD,EAC1C,EAAwCe,oBAAS,GAAjD,mBAAOiG,EAAP,KAAqBC,EAArB,KACA,EAAwBlG,oBAAS,GAAjC,mBAAOmG,EAAP,KAAaC,EAAb,KACA,EAAwCpG,oBAAS,GAAjD,mBAAOqG,EAAP,KAAqBC,EAArB,KACA,EAA8BtG,mBAAS,IAAvC,mBAAOuG,EAAP,KAAgBC,EAAhB,KACA,EAAsCxG,mBAAS,IAA/C,mBAAOyG,EAAP,KAAoBC,EAApB,KACA,EAAoC1G,oBAAS,GAA7C,mBAAO2G,EAAP,KAAmBC,EAAnB,KACA,EAAkC5G,oBAAS,GAA3C,mBAAOnE,EAAP,KAAkBgL,EAAlB,KACMC,EAAkBC,mBAChBC,EAAqB/H,EAArB+H,OAAQC,EAAahI,EAAbgI,SACVC,EAAUjI,EAAViI,MAEAtK,EAAQrB,EAAQsB,IAAI,OAE1BsI,qBAAU,WACR,IAAM1I,EAAW,uCAAG,gCAAAM,EAAA,6DAClB8J,GAAa,GADK,SAEKpD,EAAI5G,IAAJ,wBAAyBmK,EAAzB,aAA4C,CACjE/J,QAAS,CACPC,cAAc,UAAD,OAAYN,MAJX,OAEZO,EAFY,OAOlB0J,GAAa,GAEbH,EAAc,OAACvJ,QAAD,IAACA,GAAD,UAACA,EAAUrB,YAAX,iBAAC,EAAgBA,YAAjB,aAAC,EAAsBmL,UATnB,2CAAH,sDAWbhB,GAAgBU,IAClBlK,MAED,CAACwJ,EAAce,EAAQL,EAAY/J,IAGtCuI,qBAAU,WACR,IAAM1I,EAAW,uCAAG,kCAAAM,EAAA,sEACK0G,EAAI5G,IAAJ,wBAAyBmK,EAAzB,UAAyC,CAC9D/J,QAAS,CACPC,cAAc,UAAD,OAAYN,MAHX,OACZO,EADY,OAMZgK,EANY,OAMAhK,QANA,IAMAA,GANA,UAMAA,EAAUrB,YANV,iBAMA,EAAgBA,YANhB,aAMA,EAAsBqL,UAExCb,IAAkBa,GARA,2CAAH,qDAWjB,IACEH,GAAUvK,IACV,MAAOV,GACPqB,QAAQC,IAAItB,EAAMoB,SAASrB,SAE5B,CAACc,EAAOoK,IAEX7B,qBAAU,WACR,IAAMiC,EAAU,uCAAG,4BAAArK,EAAA,+EAEQ0G,EAAIC,OAAJ,wBACJ6C,GACjB,GACA,CACEtJ,QAAS,CACPC,cAAc,UAAD,OAAYN,MAPhB,OAETO,EAFS,OAWfC,QAAQC,IAAIF,GAXG,gDAafC,QAAQC,IAAI,KAAMF,SAASrB,MAbZ,yDAAH,qDAiBZyK,IAAYJ,GACdiB,MAED,CAACb,EAASJ,EAAMvJ,IAEnB,IAOMyK,EAAiB,uCAAG,kCAAAtK,EAAA,+EAEC0G,EAAI6D,KAAJ,wBACJN,EADI,UAErB,GACA,CACE/J,QAAS,CACPC,cAAc,UAAD,OAAYN,MAPT,OAEhBO,EAFgB,OAWtBqJ,EAAU,OAACrJ,QAAD,IAACA,GAAD,UAACA,EAAUrB,YAAX,iBAAC,EAAgBA,YAAjB,iBAAC,EAAsByL,eAAvB,aAAC,EAA+BhC,KAXpB,gDAatBnI,QAAQC,IAAI,KAAMF,SAASrB,MAbL,yDAAH,qDAiCnBqK,IAAMe,GAAgB,GACtBf,GACFkB,IAGF,IAAMG,EAAkB,uCAAG,WAAOnI,GAAP,iBAAAtC,EAAA,sDACzBsC,EAAEoI,iBACIC,EAAiBZ,EAAgBa,QAAQ3D,MAC/C,IACQ7G,EAAWsG,EAAI6D,KAAJ,wBACEN,EADF,aAEf,CAAEjB,QAAS2B,GACX,CACEzK,QAAS,CACPC,cAAc,UAAD,OAAYN,MAK/BQ,QAAQC,IAAIF,GACZ2J,EAAgBa,QAAQ3D,MAAQ,GAChC4C,GAAc,GACd,MAAO7K,GACPqB,QAAQC,IAAItB,EAAMoB,SAASrB,MAlBJ,2CAAH,sDAsBlB8L,EAAW,OAAGnB,QAAH,IAAGA,OAAH,EAAGA,EAAanB,KAAI,SAACS,GAAD,OACnC,cAAC,EAAD,CAEEA,QAASA,EAAQA,QACjBD,SAAUC,EAAQzH,KAAK3C,KACvBkK,UAAWE,EAAQzH,KAAK+B,MACxB+B,UAAW2D,EAAQ3D,WAJd2D,EAAQR,QAQjB,OACE,eAAC,IAAMlE,SAAP,WACE,8BACE,uBACEwG,SAAUL,EACVrI,UAAU,yCAFZ,UAIE,0BACE2I,IAAKhB,EACL3H,UAAU,oDACV8B,KAAK,OACL8G,aAAY,OAAEjB,QAAF,IAAEA,GAAF,UAAEA,EAAiBa,eAAnB,aAAE,EAA0B3D,MACxCgE,WAAS,EACTC,UAAW,IAEb,wBAAQ9I,UAAU,6DAAlB,uBAKJ,sBAAKA,UAAU,yCAAf,UACE,sBACEC,QAhGkB,WACxBgH,GAAQ,SAACvF,GAAD,OAAgBA,MAgGlB1B,UAAU,mCAFZ,UAIE,qBACE0D,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QACflE,UAAS,uDACPgH,GAAQE,EAAe,gBAAkB,iBAX7C,SAcE,sBAAM6B,EAAE,0HAEV,sBAAM/I,UAAU,OAAhB,SAAwB+H,OAE1B,sBACE/H,UAAU,+BACVC,QA1HmB,WACzB8G,GAAgB,SAACrF,GAAD,OAAgBA,MA0H1B6B,GAAG,WAHL,UAKGiE,EAAaF,EAAYvI,OAAS+I,EALrC,kBASDpL,GAAa,cAAC,EAAD,CAAgB2I,YAAY,SAEzCyB,GAAgB2B,MCjKRO,EA1CI,WAAO,IAAD,EACjBC,EAASC,cACTvL,EAAWsD,cACXvE,EAAYsE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQhD,aACjDC,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CC,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAC3CiL,EAAWoB,EAAXpB,OACF5B,EAAI,OAAGtJ,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYsJ,KAKzB,OAJAD,qBAAU,WACRrI,EAASL,EAAY,MAAD,wBAAyBuK,OAC5C,CAAClK,EAAUkK,IAEVjL,EAEA,cAAC,EAAD,UACE,qDAKJ,eAAC,EAAD,WACGF,GAAa,cAAC,EAAD,IACd,cAAC,EAAD,CAAkB4J,MAAK,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAMK,QAE/B,cAAC,EAAD,CACE7C,MAAK,OAAEwC,QAAF,IAAEA,OAAF,EAAEA,EAAMxC,MACbe,OAAM,OAAEyB,QAAF,IAAEA,OAAF,EAAEA,EAAMzB,OAAOhI,KACrBgK,SAAQ,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAMO,SAChBvD,UAAS,OAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAMhD,UACjBwB,MAAK,OAAEwB,QAAF,IAAEA,OAAF,EAAEA,EAAMxB,QAEf,kCACE,cAAC,EAAD,CACEoD,OAAM,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAMG,IACd2B,MAAK,OAAE9B,QAAF,IAAEA,OAAF,EAAEA,EAAM8B,MACbD,SAAQ,OAAE7B,QAAF,IAAEA,OAAF,EAAEA,EAAM6B,iBCRXqB,EAlCD,SAACrJ,GACb,MAA8Be,oBAAS,GAAvC,mBAAOuI,EAAP,KAAgBC,EAAhB,KAEArD,qBAAU,WACRzE,YAAW,WACT8H,GAAW,KACV,QACF,IAEH,IAAIC,EAAQ,WACV,IAAMxH,EAAOhC,EAAMgC,KACnB,OACE,qBACE9B,UAAS,UACE,YAAT8B,EAAqB,eAAiB,aAD/B,kDADX,SAKE,mBAAG9B,UAAU,qBAAb,SAAmCF,EAAMK,cAU/C,OALKiJ,IACHE,EAAQ,WACN,OAAO,0BAIT,cAAC,IAAMpH,SAAP,UACGqH,IAASC,aAAa,cAACF,EAAD,IAAWG,SAASC,eAAe,aCtB1DtN,EAAU,IAAIC,IAwHLsN,EAvHI,WAAO,IAAD,EACjBtJ,EAAUC,cACVsJ,EAAc5I,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKtB,gBAChDC,EAAe0C,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKrB,gBACjDE,EAAkBwC,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKnB,mBACpD5B,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAC7CD,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CgB,EAAWsD,cAEXxD,EAAK,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAMc,MACd0B,EAAI,OAAGxC,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYwC,KAEzB6G,qBAAU,WACJvI,GAAS0B,IACX/C,EAAQyN,IAAI,MAAOpM,EAAO,CACxB4D,KAAM,IACNyI,QAAS,IAAI9G,KAAKA,KAAK+G,MAAQ,UAEjCpJ,aAAaqJ,QAAQ,OAAQvJ,KAAKwJ,UAAU9K,IAC5CxB,EAAS2B,EAAYF,MAAM,CAAE3B,QAAO0B,aAErC,CAACxB,EAAUwB,EAAM1B,IAEpBuI,qBAAU,WACJvI,GACF8D,YAAW,WACTlB,EAAQmB,QAAQ,OACf,QAEJ,CAACnB,EAAS5C,IAIb,IAAMyM,EAAcN,GAAetL,GAAgBE,EAE7C2L,EAAevC,mBACfwC,EAAgBxC,mBAChByC,EAAmBzC,mBACnB0C,EAA0B1C,mBAkChC,OACE,eAAC,IAAM1F,SAAP,WACGzE,GAAS,cAAC,EAAD,CAAOqE,KAAK,QAAZ,oCACTlF,GAAS,cAAC,EAAD,CAAOkF,KAAK,QAAZ,SAAqBlF,IAC/B,uBACE8L,SApBgB,SAACxI,GACrBA,EAAEoI,iBACG4B,IAELjM,QAAQC,IAAI,iBACZP,EACEL,EAAY,OAAQ,uBAAwB,CAC1Cd,KAAM2N,EAAa3B,QAAQ3D,MAC3B0F,MAAOH,EAAc5B,QAAQ3D,MAC7B2F,SAAUH,EAAiB7B,QAAQ3D,MACnC4F,gBAAiBH,EAAwB9B,QAAQ3D,WAWjD7E,UAAU,sCAFZ,UAIE,uBACE0K,OAzCgB,WACtB,IAAMC,EAAcR,EAAa3B,QAAQ3D,MACzClH,EAASqB,EAAYP,UAAUkM,KAwCzBhC,IAAKwB,EACLnK,UAAU,sBACVuD,GAAG,OACHzB,KAAK,OACL8I,YAAY,SAEd,uBACEF,OA7CiB,WACvB,IAAMG,EAAeT,EAAc5B,QAAQ3D,MAC3ClH,EAASqB,EAAYL,WAAWkM,KA4C1BlC,IAAKyB,EACLpK,UAAU,sBACVuD,GAAG,QACHzB,KAAK,QACL8I,YAAY,UAEd,uBACEF,OAjDoB,WAC1B,IAAMI,EAAkBT,EAAiB7B,QAAQ3D,MACjDlH,EAASqB,EAAYF,cAAcgM,KAgD7BnC,IAAK0B,EACLrK,UAAU,sBACVuD,GAAG,WACHzB,KAAK,WACL8I,YAAY,aAEd,uBACEF,OArD2B,WACjC,IAAMK,EAAyBT,EAAwB9B,QAAQ3D,MAC/DlH,EAASqB,EAAYF,cAAciM,KAoD7BpC,IAAK2B,EACLtK,UAAU,sBACVuD,GAAG,mBACHzB,KAAK,WACL8I,YAAY,sBAEZV,GAAe,mBAAGlK,UAAU,eAAb,+BACjB,wBAAQA,UAAU,yBAAlB,4BChHOgL,GARA,WACb,OACE,cAAC,EAAD,UACE,cAAC,EAAD,OCEA5O,GAAU,IAAIC,IA2FL4O,GAzFG,WAAO,IAAD,EAChB5K,EAAUC,cACVhC,EAAe0C,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKrB,gBACjDE,EAAkBwC,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKnB,mBACpD7B,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CC,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAC7Ce,EAAWsD,cAEXxD,EAAK,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAMc,MACd0B,EAAI,OAAGxC,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYwC,KACzBlB,QAAQC,IAAItB,GAEZoJ,qBAAU,WACJ7G,GAAQ1B,IACVrB,GAAQyN,IAAI,MAAOpM,EAAO,CACxB4D,KAAM,IACNyI,QAAS,IAAI9G,KAAKA,KAAK+G,MAAQ,UAEjCpJ,aAAaqJ,QAAQ,OAAQvJ,KAAKwJ,UAAU9K,IAC5CxB,EAAS2B,EAAYF,MAAM,CAAE3B,MAAOA,EAAO0B,KAAMA,QAElD,CAACxB,EAAUwB,EAAM1B,IAEpBuI,qBAAU,WACJvI,GACF8D,YAAW,WACTlB,EAAQmB,QAAQ,OACf,OACJ,CAACnB,EAAS5C,IAEb,IAAMyM,EAAc5L,GAAgBE,EAE9B4L,EAAgBxC,mBAChByC,EAAmBzC,mBAyBzB,OACE,eAAC,IAAM1F,SAAP,WACGvF,EAAKc,OAAS,cAAC,EAAD,CAAOqE,KAAK,UAAZ,qCACdlF,GAAS,cAAC,EAAD,CAAOkF,KAAK,QAAZ,SAAqBlF,IAC/B,uBACE8L,SAnBgB,SAACxI,GACrBA,EAAEoI,iBACG4B,IACLjM,QAAQC,IAAI,iBAGZP,EACEL,EAAY,OAAD,sBAAgC,CACzCiN,MAAOH,EAAc5B,QAAQ3D,MAC7B2F,SAAUH,EAAiB7B,QAAQ3D,WAWnC7E,UAAU,sCAFZ,UAIE,uBACE2I,IAAKyB,EACLpK,UAAU,sBACVuD,GAAG,QACHzB,KAAK,QACL8I,YAAY,QACZF,OArCiB,WACvB,IAAMG,EAAeT,EAAc5B,QAAQ3D,MAC3ClH,EAASqB,EAAYL,WAAWkM,OAqC5B,uBACElC,IAAK0B,EACLrK,UAAU,sBACVuD,GAAG,WACHzB,KAAK,WACL8I,YAAY,WACZF,OAzCoB,WAC1B,IAAMI,EAAkBT,EAAiB7B,QAAQ3D,MACjDlH,EAASqB,EAAYF,cAAcgM,QAyC7BZ,GAAe,mBAAGlK,UAAU,eAAb,+BACjB,wBAAQA,UAAU,yBAAlB,0BClFOkL,GARD,WACZ,OACE,cAAC,EAAD,UACE,cAAC,GAAD,OCIA9O,GAAU,IAAIC,IAwJL8O,GAvJM,WACnB,IAAM9K,EAAUC,cAEhB,EAAgCO,mBAAS,GAAzC,mBAAOuK,EAAP,KAAiBC,EAAjB,KACA,EAAgCxK,mBAAS,MAAzC,mBAAOyK,EAAP,KAAiBC,EAAjB,KACA,EAAgC1K,mBAAS,MAAzC,mBAAO2K,EAAP,KAAiBC,EAAjB,KAEMC,EAAe1K,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKtB,gBACjDE,EAAeyC,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKpB,gBACjD3B,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAG7C+O,EAAmB/D,mBACnBgE,EAAgBhE,mBAChBiE,EAAgBjE,mBAEhBjK,EAAWsD,cAEbiJ,EAAcwB,GAAgBnN,EAS5BuN,EAAkB,uCAAG,WAAO5L,GAAP,yBAAAtC,EAAA,6DACzBsC,EAAEoI,iBACI7K,EAAQrB,GAAQsB,IAAI,OACpBqO,EAAY7L,EAAE4E,OAAOkH,MAAM,IAE3BrM,EAAO,IAAIsM,UACZC,OAAO,OAAQH,GANK,kBASAzH,EAAI6D,KAAJ,iBAA2BxI,EAAM,CACtD7B,QAAS,CACPC,cAAc,UAAD,OAAYN,IAE3B0O,iBAAkB,SAACC,GACjB,IAAQC,EAAkBD,EAAlBC,OAAQC,EAAUF,EAAVE,MACZC,EAAaC,KAAKC,MAAgB,IAATJ,EAAgBC,GACzCC,EAAa,KAAKlB,EAAYkB,MAhBf,OASjBvO,EATiB,OAmBvByN,EAAY,MACZJ,EAAY,KACZE,EAAW,OAACvN,QAAD,IAACA,GAAD,UAACA,EAAUrB,YAAX,iBAAC,EAAgBA,YAAjB,aAAC,EAAsBa,KArBX,kDAuBvBS,QAAQC,IAAI,KAAMF,UAClByN,EAAY,KAAMzN,SAASrB,KAAKwB,SAxBT,0DAAH,sDA4BlBuO,EAAgB,SAACxM,GAGrB,GAFAA,EAAEoI,iBAEG4B,EAAL,CAGAjM,QAAQC,IAAI,iBAEZ,IAAIyO,EAAkBhB,EAAiBnD,QAAQ3D,MACvB,WAApB8H,IAA8BA,EAAkB,SACpD,IAAMC,EAAehB,EAAcpD,QAAQ3D,MACrCgI,EAAehB,EAAcrD,QAAQ3D,MACvCyB,EAAQ,KACRgF,IAAUhF,EAAQgF,GAEtB3N,EACEL,EAAY,OAAD,gBAA0B,CACnCkJ,SAAUmG,EACVlJ,MAAOmJ,EACPnI,MAAOoI,EACPvG,MAAOA,KAIX/E,YAAW,WACTlB,EAAQmB,QAAQ,OACf,OAGL,OACE,uBAAMkH,SAAUgE,EAAe1M,UAAU,uBAAzC,UACGpD,GAAS,mBAAGoD,UAAU,eAAb,SAA6BpD,IACvC,gCACE,uBAAOkQ,QAAQ,OAAf,yBACA,yBAAQnE,IAAKgD,EAAkBpI,GAAG,OAAlC,UACE,wBAAQsB,MAAM,aAAd,wBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,gBAAd,2BACA,wBAAQA,MAAM,UAAd,2BAGJ,sBAAK7E,UAAU,gBAAf,UACE,uBAAO8M,QAAQ,QAAf,mBACA,uBACEnE,IAAKiD,EACL/C,WAAS,EACT7I,UAAU,wBACVuD,GAAG,QACHzB,KAAK,OACL8I,YAAY,mBACZF,OAvFiB,WACvB/M,EAASqB,EAAYP,UAAUmN,EAAcpD,QAAQ3D,YAwF/C6G,GAAgB,mBAAG1L,UAAU,eAAb,qCAEpB,sBAAKA,UAAU,qBAAf,UACE,uBAAO8M,QAAQ,QAAf,mBACA,0BACEnE,IAAKkD,EACL7L,UAAU,wBACVuD,GAAG,QACHzB,KAAK,OACL8I,YAAY,oBACZmC,KAAK,KACLrC,OAjGiB,WACvB/M,EAASqB,EAAYN,WAAWmN,EAAcrD,QAAQ3D,YAkGhDtG,GACA,mBAAGyB,UAAU,eAAb,2CAGJ,sBAAKA,UAAU,qBAAf,UACE,uBAAO8M,QAAQ,OAAf,gCACA,uBACE9M,UAAU,wBACVuD,GAAG,OACHzB,KAAK,OACLtF,KAAK,OACLwQ,OAAO,UACPC,QAASnB,IAEVN,GAAY,mBAAGxL,UAAU,eAAb,SAA6BwL,IACzCJ,EAAW,GACV,oBAAGpL,UAAU,gBAAb,UACE,+BAAOoL,EAAW,IAAM,aAAe,cACvC,sBAAMpL,UAAU,iBAAhB,SAAkCoL,IAFpC,UAMJ,cAAC,EAAD,CAAQnL,QAASyM,EAAe1M,UAAU,mBAA1C,sBChJSkN,GARE,WACf,OACE,cAAC,EAAD,UACE,cAAC,GAAD,OCkCSC,GAjCC,WAAO,IAAD,IACdxP,EAAWsD,cACXvE,EAAYsE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQhD,aACjDC,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CsJ,EAAI,OAAGtJ,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,iBAAG,EAAYuJ,aAAf,aAAG,EAAmBC,KAAI,SAACF,GAAD,OAClC,cAAC,EAAD,CAEE1C,GAAI0C,EAAKG,IACT5B,OAAQyB,EAAKzB,OAAOhI,KACpBiH,MAAOwC,EAAKxC,MACZR,UAAWgD,EAAKhD,UAChBwB,MAAOwB,EAAKxB,OALPwB,EAAKG,QAad,OAJAJ,qBAAU,WACRrI,EAASL,EAAY,MAAD,4BACnB,CAACK,IAGF,eAAC,EAAD,WACE,oBAAIqC,UAAU,8BAAd,sBACCtD,GAAa,cAAC,EAAD,IACI,KAAb,OAAJuJ,QAAI,IAAJA,OAAA,EAAAA,EAAMlH,SACL,mBAAGiB,UAAU,oCAAb,wDAIDiG,MC5BD7J,GAAU,IAAIC,IA0LL+Q,GAzLO,SAACtN,GACrB,IAAMO,EAAUC,cAChB,EAAgCO,mBAAS,GAAzC,mBAAOuK,EAAP,KAAiBC,EAAjB,KACMlB,EAAevC,mBACfwC,EAAgBxC,mBAChByF,EAAezF,mBACf0F,EAA0B1F,mBAC1B2F,EAAsB3F,mBACtB4F,EAA0B5F,mBAExBpL,EAAuBsD,EAAvBtD,KAAM+N,EAAiBzK,EAAjByK,MAAOrJ,EAAUpB,EAAVoB,MACrB,EAAsBL,mBAASK,GAA/B,mBAAO1D,EAAP,KAAYiQ,EAAZ,KAEMhQ,EAAQrB,GAAQsB,IAAI,OACpBgQ,EAAiB,uCAAG,WAAOxN,GAAP,yBAAAtC,EAAA,6DAClBmO,EAAY7L,EAAE4E,OAAOkH,MAAM,IAC3BrM,EAAO,IAAIsM,UACZC,OAAO,OAAQH,GAHI,kBAMCzH,EAAI6D,KAAK,iBAAkBxI,EAAM,CACtD7B,QAAS,CACPC,cAAc,UAAD,OAAYN,IAE3B0O,iBAAkB,SAACC,GACjB,IAAQC,EAAkBD,EAAlBC,OAAQC,EAAUF,EAAVE,MACVqB,EAAUnB,KAAKC,MAAgB,IAATJ,EAAgBC,GACxCqB,EAAU,IAAItC,EAAYsC,MAbZ,OAMhB3P,EANgB,OAgBtBC,QAAQC,IAAIF,GACZqN,EAAY,KACZoC,EAAM,OAACzP,QAAD,IAACA,GAAD,UAACA,EAAUrB,YAAX,iBAAC,EAAgBA,YAAjB,aAAC,EAAsBa,KAlBP,kDAoBhBW,EAAU,KAAMH,SAASrB,KAAKwB,QACpCyP,MAAMzP,GArBgB,0DAAH,sDAyBjB0P,EAAoB,uCAAG,WAAO3N,GAAP,2BAAAtC,EAAA,6DAC3BsC,EAAEoI,iBAEIqC,EAAcR,EAAa3B,QAAQ3D,MACnCgG,EAAeT,EAAc5B,QAAQ3D,MACrC3D,EAAQ1D,EALa,kBAOF8G,EAAIwJ,MACzB,yBACA,CACEtR,KAAMmO,EACNJ,MAAOM,EACP3J,MAAOA,GAET,CACEpD,QAAS,CACPC,cAAc,UAAD,OAAYN,MAhBN,OAOnBO,EAPmB,OAoBzB2C,aAAaqJ,QAAQ,OAAQvJ,KAAKwJ,UAAL,OAAejM,QAAf,IAAeA,GAAf,UAAeA,EAAUrB,YAAzB,iBAAe,EAAgBA,YAA/B,aAAe,EAAsBwC,OAClEoC,YAAW,WACTlB,EAAQiC,KAAK,OACZ,MAvBsB,kDAyBnBnE,EAAU,KAAMH,SAASrB,KAAKwB,QACpCyP,MAAMzP,GA1BmB,0DAAH,sDA8BpB4P,EAAqB,uCAAG,WAAO7N,GAAP,uBAAAtC,EAAA,6DAC5BsC,EAAEoI,iBAEI0F,EAAqBV,EAAwB9E,QAAQ3D,MACrDoJ,EAAiBV,EAAoB/E,QAAQ3D,MAC7CqJ,EAAqBV,EAAwBhF,QAAQ3D,MAL/B,kBAQHP,EAAI6D,KACzB,+BACA,CACEgG,gBAAiBH,EACjBxD,SAAUyD,EACVxD,gBAAiByD,GAEnB,CACEpQ,QAAS,CACPC,cAAc,UAAD,OAAYN,MAjBL,OAQpBO,EARoB,OAqB1BC,QAAQC,IAAIF,GArBc,kDAuBpBG,EAAU,KAAMH,SAASrB,KAAKwB,QACpCyP,MAAMzP,GAxBoB,0DAAH,sDA4B3B,OACE,eAAC,IAAM+D,SAAP,WACE,uBACEwG,SAAUmF,EACV7N,UAAU,sCAFZ,UAIE,uBACE2I,IAAKwB,EACLnK,UAAU,sBACVuD,GAAG,OACHzB,KAAK,OACL8G,aAAcpM,IAEhB,uBACEmM,IAAKyB,EACLpK,UAAU,sBACVuD,GAAG,QACHzB,KAAK,QACL8G,aAAc2B,IAEhB,sBAAKvK,UAAU,uCAAf,UACE,cAAC,IAAD,CACEA,UAAU,yBACV2B,UAAU,YACVC,OAAO,OACPC,SAAUX,EACVY,KAAK,QACLC,IAAI,aAEN,uBACE+K,QAAQ,QACR9M,UAAU,kGAFZ,0BAMA,uBACE2I,IAAK0E,EACLrN,UAAU,4CACVuD,GAAG,OACHzB,KAAK,OACLmL,QAASS,IAEVtC,EAAW,GACV,8BACE,sBAAMpL,UAAU,gBAAhB,SACGoL,EAAW,IAAM,aAAe,cAEnC,uBAAMpL,UAAU,iBAAhB,UAAkCoL,EAAlC,OAAoD,UAI1D,wBAAQpL,UAAU,yBAAlB,+BAEF,uBACE0I,SAAUqF,EACV/N,UAAU,qCAFZ,UAIE,qBAAKA,UAAU,OAAf,6BACA,uBACE2I,IAAK2E,EACLtN,UAAU,sBACVuD,GAAG,mBACHzB,KAAK,WACL8I,YAAY,mBACZ9B,UAAW,IAEb,uBACEH,IAAK4E,EACLvN,UAAU,sBACVuD,GAAG,WACHzB,KAAK,WACL8I,YAAY,eACZ9B,UAAW,IAEb,uBACEH,IAAK6E,EACLxN,UAAU,sBACVuD,GAAG,mBACHzB,KAAK,WACL8I,YAAY,mBACZ9B,UAAW,IAEb,wBAAQ9I,UAAU,yBAAlB,2BC5JOoO,GAxBG,WAAO,IAAD,EAChBzQ,EAAWsD,cACXvE,EAAYsE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQhD,aACjDC,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAE5CwC,EAAI,OAAGxC,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYwC,KAMzB,OAJA6G,qBAAU,WACRrI,EAASL,EAAY,MAAO,0BAC3B,CAACK,IAGF,eAAC,EAAD,WACE,oBAAIqC,UAAU,8BAAd,wBACCtD,GAAa,cAAC,EAAD,IACd,cAAC,GAAD,CACEF,KAAI,OAAE2C,QAAF,IAAEA,OAAF,EAAEA,EAAM3C,KACZ+N,MAAK,OAAEpL,QAAF,IAAEA,OAAF,EAAEA,EAAMoL,MACbrJ,MAAK,OAAE/B,QAAF,IAAEA,OAAF,EAAEA,EAAM+B,YChBf9E,GAAU,IAAIC,IAyJL8O,GAxJM,SAACrL,GACpB,IAAMO,EAAUC,cAGhB,EAAgCO,mBAAS,GAAzC,mBAAOuK,EAAP,KAAiBC,EAAjB,KACA,EAAgCxK,mBAAS,MAAzC,mBAAOyK,EAAP,KAAiBC,EAAjB,KACA,EAA0B1K,mBAAS,MAAnC,mBAAOjE,EAAP,KAAcyR,EAAd,KAEM3C,EAAe1K,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKtB,gBACjDE,EAAeyC,aAAY,SAACjE,GAAD,OAAWA,EAAM4C,KAAKpB,gBAIjDoN,EAAmB/D,mBACnBgE,EAAgBhE,mBAChBiE,EAAgBjE,mBAEhBjK,EAAWsD,cAETwC,EAAoC3D,EAApC2D,MAAOgB,EAA6B3E,EAA7B2E,MAAOoD,EAAsB/H,EAAtB+H,OAAQyG,EAAcxO,EAAdwO,UAExBpE,EAAcwB,GAAgBnN,EAS9BuN,EAAkB,uCAAG,WAAO5L,GAAP,yBAAAtC,EAAA,6DACzBsC,EAAEoI,iBACI7K,EAAQrB,GAAQsB,IAAI,OACpBqO,EAAY7L,EAAE4E,OAAOkH,MAAM,IAE3BrM,EAAO,IAAIsM,UACZC,OAAO,OAAQH,GANK,kBASAzH,EAAI6D,KAAJ,iBAA2BxI,EAAM,CACtD7B,QAAS,CACPC,cAAc,UAAD,OAAYN,IAE3B0O,iBAAkB,SAACC,GACjB,IAAQC,EAAkBD,EAAlBC,OAAQC,EAAUF,EAAVE,MACZC,EAAaC,KAAKC,MAAgB,IAATJ,EAAgBC,GACzCC,EAAa,KAAKlB,EAAYkB,MAhBf,OASjBvO,EATiB,OAmBvBqQ,EAAS,MACThD,EAAY,KACZE,EAAW,OAACvN,QAAD,IAACA,GAAD,UAACA,EAAUrB,YAAX,iBAAC,EAAgBA,YAAjB,aAAC,EAAsBa,KArBX,kDAuBvBS,QAAQC,IAAI,KAAMF,UAClBqQ,EAAS,KAAMrQ,SAASrB,KAAKwB,SAxBN,0DAAH,sDA4BlBuO,EAAgB,SAACxM,GAGrB,GAFAA,EAAEoI,iBAEG4B,EAAL,CAGAjM,QAAQC,IAAI,iBAEZ,IAAIyO,EAAkBhB,EAAiBnD,QAAQ3D,MACvB,WAApB8H,IAA8BA,EAAkB,SACpD,IAAMC,EAAehB,EAAcpD,QAAQ3D,MACrCgI,EAAehB,EAAcrD,QAAQ3D,MACvCyB,EAAQgI,EACRhD,IAAUhF,EAAQgF,GAEtB3N,EACEL,EAAY,QAAD,wBAA2BuK,GAAU,CAC9CrB,SAAUmG,EACVlJ,MAAOmJ,EACPnI,MAAOoI,EACPvG,MAAOA,KAIX/E,YAAW,WACTlB,EAAQmB,QAAQ,OACf,OAGL,OACE,uBAAMkH,SAAUgE,EAAe1M,UAAU,uBAAzC,UACE,gCACE,uBAAO8M,QAAQ,OAAf,yBACA,yBAAQnE,IAAKgD,EAAkBpI,GAAG,OAAlC,UACE,wBAAQsB,MAAM,aAAd,wBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,gBAAd,2BACA,wBAAQA,MAAM,UAAd,2BAGJ,sBAAK7E,UAAU,gBAAf,UACE,uBAAO8M,QAAQ,QAAf,mBACA,uBACEnE,IAAKiD,EACL5L,UAAU,wBACVuD,GAAG,QACHzB,KAAK,OACL8G,aAAcnF,EACdiH,OArFiB,WACvB/M,EAASqB,EAAYP,UAAUmN,EAAcpD,QAAQ3D,YAsF/C6G,GAAgB,mBAAG1L,UAAU,eAAb,qCAEpB,sBAAKA,UAAU,qBAAf,UACE,uBAAO8M,QAAQ,QAAf,mBACA,0BACEnE,IAAKkD,EACL7L,UAAU,wBACVuD,GAAG,QACHzB,KAAK,OACL8G,aAAcnE,EACdsI,KAAK,KACLrC,OA/FiB,WACvB/M,EAASqB,EAAYN,WAAWmN,EAAcrD,QAAQ3D,YAgGhDtG,GACA,mBAAGyB,UAAU,eAAb,2CAGJ,sBAAKA,UAAU,qBAAf,UACE,uBAAO8M,QAAQ,OAAf,gCACA,uBACE9M,UAAU,wBACVuD,GAAG,OACHzB,KAAK,OACLtF,KAAK,OACLwQ,OAAO,UACPuB,SAAUzC,IAEXlP,GAAS,mBAAGoD,UAAU,eAAb,SAA6BpD,IACtCwO,EAAW,GACV,oBAAGpL,UAAU,gBAAb,UACGoL,EAAW,IAAM,YAAc,WAChC,sBAAMpL,UAAU,iBAAhB,SAAkCoL,IAFpC,UAMJ,cAAC,EAAD,CAAQnL,QAASyM,EAAe1M,UAAU,mBAA1C,sBC1HSwO,GA1BI,WAAO,IAAD,EACjBvF,EAASC,cACTxM,EAAYsE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQhD,aACjDC,EAAOqE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ/C,QAC5CC,EAAQoE,aAAY,SAACjE,GAAD,OAAWA,EAAM2C,QAAQ9C,SAC7Ce,EAAWsD,cACT4G,EAAWoB,EAAXpB,OACF5B,EAAI,OAAGtJ,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYsJ,KAKzB,OAJAD,qBAAU,WACRrI,EAASL,EAAY,MAAD,wBAAyBuK,OAC5C,CAAClK,EAAUkK,IAGZ,eAAC,EAAD,WACGnL,GAAa,cAAC,EAAD,IACbE,GAAS,mBAAGoD,UAAU,eAAb,SAA6BpD,IACvC,cAAC6R,GAAD,CACEhL,OAAW,OAAJwC,QAAI,IAAJA,OAAA,EAAAA,EAAMxC,QAAS,GACtBgB,OAAW,OAAJwB,QAAI,IAAJA,OAAA,EAAAA,EAAMxB,QAAS,GACtBoD,OAAQA,EACRyG,UAAS,OAAErI,QAAF,IAAEA,OAAF,EAAEA,EAAMK,YCfVoI,GAVE,WACf,OACE,cAAC,EAAD,UACE,oBAAI1O,UAAU,oCAAd,kDCQA5D,GAAU,IAAIC,IA+CLsS,OA7Cf,WACE,IAAMpO,EAAMnE,GAAQsB,IAAI,OAClBwB,EAAa8B,aAAY,SAACjE,GAAD,OAAWA,EAAM6C,KAAKnC,YAAY8C,EAEjE,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqO,OAAK,EAACvN,KAAK,IAAlB,SACE,cAAC,IAAD,CAAUI,GAAG,aAEf,cAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,SAAlB,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOuN,OAAK,EAACvN,KAAK,iBAAlB,UACGnC,GAAc,cAAC,EAAD,KACbA,GAAc,cAAC,IAAD,CAAUuC,GAAG,cAE/B,cAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,UAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOuN,OAAK,EAACvN,KAAK,SAAlB,SACE,cAAC,GAAD,MAEF,eAAC,IAAD,CAAOuN,OAAK,EAACvN,KAAK,aAAlB,UACGnC,GAAc,cAAC,GAAD,KACbA,GAAc,cAAC,IAAD,CAAUuC,GAAG,cAE/B,eAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,YAAlB,UACGnC,GAAc,cAAC,GAAD,KACbA,GAAc,cAAC,IAAD,CAAUuC,GAAG,cAE/B,eAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,cAAlB,UACGnC,GAAc,cAAC,GAAD,KACbA,GAAc,cAAC,IAAD,CAAUuC,GAAG,cAE/B,eAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,uBAAlB,UACGnC,GAAc,cAAC,GAAD,KACbA,GAAc,cAAC,IAAD,CAAUuC,GAAG,cAE/B,cAAC,IAAD,CAAOmN,OAAK,EAACvN,KAAK,IAAlB,SACE,cAAC,GAAD,UC/CRwN,IAASC,OACP,cAAC,IAAD,UACE,cAAC,IAAD,CAAUvP,MAAOA,EAAjB,SACE,cAAC,GAAD,QAGJkK,SAASC,eAAe,W","file":"static/js/main.315f99b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__1IWco\"};","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst API_URL = \"https://bloggerserver.herokuapp.com\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst intitialRequestState = {\r\n  isLoading: false,\r\n  data: [],\r\n  error: null,\r\n};\r\n\r\nexport const requestSlice = createSlice({\r\n  name: \"request\",\r\n  initialState: intitialRequestState,\r\n  reducers: {\r\n    requestSend(state) {\r\n      state.isLoading = true;\r\n    },\r\n    dataArrived(state, action) {\r\n      state.isLoading = false;\r\n      state.data = action.payload;\r\n      state.error = null;\r\n    },\r\n    checkError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const requestActions = requestSlice.actions;\r\n\r\nexport const sendRequest = (method, url, data = {}) => {\r\n  const token = cookies.get(\"jwt\");\r\n  return async (dispatch) => {\r\n    dispatch(requestActions.requestSend());\r\n    try {\r\n      const response = await axios({\r\n        method: method,\r\n        url: API_URL + url,\r\n        data: data,\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      // console.log(response);\r\n      dispatch(requestActions.dataArrived(response.data));\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n      dispatch(requestActions.checkError(error.response.data.message));\r\n    }\r\n  };\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialFormState = {\r\n  inputIsValid: true,\r\n  emailIsValid: true,\r\n  aboutIsValid: true,\r\n  passwordIsValid: true,\r\n};\r\n\r\nexport const formSlice = createSlice({\r\n  name: \"form\",\r\n  initialState: initialFormState,\r\n  reducers: {\r\n    validName(state, action) {\r\n      if (action.payload !== \"\") state.inputIsValid = true;\r\n      else state.inputIsValid = false;\r\n    },\r\n    validAbout(state, action) {\r\n      if (action.payload !== \"\") state.aboutIsValid = true;\r\n      else state.aboutIsValid = false;\r\n    },\r\n    validEmail(state, action) {\r\n      if (action.payload !== \"\" && action.payload.trim().includes(\"@\"))\r\n        state.emailIsValid = true;\r\n      else state.emailIsValid = false;\r\n    },\r\n    validPassword(state, action) {\r\n      if (action.payload !== \"\" && action.payload.trim().length >= 8)\r\n        state.passwordIsValid = true;\r\n      else state.passwordIsValid = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const formActions = formSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialAuthState = {\r\n  token: null,\r\n  isLoggedIn: false,\r\n  user: null,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialAuthState,\r\n  reducers: {\r\n    login(state, action) {\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = !!state.token;\r\n      state.user = action.payload.user;\r\n    },\r\n    logout(state, action) {\r\n      state.token = false;\r\n      state.isLoggedIn = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { requestSlice } from \"./send-request\";\r\nimport { formSlice } from \"./validate-form\";\r\nimport { authSlice } from \"./auth-token\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    request: requestSlice.reducer,\r\n    form: formSlice.reducer,\r\n    auth: authSlice.reducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\r\n\r\nconst Button = (props) => {\r\n  const onClickHanlder = (e) => {\r\n    // let value = e.target.textContent.toLowerCase();\r\n\r\n    // if (value === \"design\") value = \"ui-ux\";\r\n\r\n    props.onClick(e);\r\n  };\r\n\r\n  const classes =\r\n    props.className +\r\n    \" px-6 w-30 py-1 text-white border-2 border-white border-solid rounded-md text-sm active:shadow-lg\";\r\n\r\n  return (\r\n    <button onClick={onClickHanlder} className={classes}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useState } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { NavLink, Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { authActions } from \"../../store/auth-token\";\r\nimport { Image } from \"cloudinary-react\";\r\n\r\nimport Button from \"../Button/Button\";\r\n// import userImg from \"../../assets/img/lightbulb-1875247.jpg\";\r\nconst cookies = new Cookies();\r\nconst MainNavigation = () => {\r\n  const history = useHistory();\r\n  //storing jwt in cookie and user in localstorage so data not lost on refresh\r\n  const jwt = cookies.get(\"jwt\");\r\n  const currentUser = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  const [dropDown, setDropDown] = useState(false);\r\n  const isLoggedIn = useSelector((state) => state.auth.token) || !!jwt;\r\n  // const token = useSelector((state) => state.auth.token) || !!jwt;\r\n  const user = currentUser;\r\n  const dispatch = useDispatch();\r\n  // console.log(user);\r\n  const photo = user?.photo;\r\n\r\n  const dropDownHandler = () => {\r\n    setDropDown((prevState) => !prevState);\r\n  };\r\n  const logoutHandler = () => {\r\n    cookies.remove(\"jwt\", { path: \"/\" });\r\n    localStorage.removeItem(\"user\");\r\n\r\n    // so that page does not get back and redirected to login\r\n    setTimeout(() => {\r\n      dispatch(authActions.logout());\r\n      history.replace(\"/\");\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex items-center justify-between h-10 bg-gray-700\">\r\n      <NavLink to=\"/\" className=\"ml-2 text-xl text-white\">\r\n        Blogger\r\n      </NavLink>\r\n      <nav className={`${isLoggedIn ? \"hidden\" : \"\"} w-1/2 mx-2`}>\r\n        <ul className=\"flex justify-evenly\">\r\n          <li className=\"mr-1\">\r\n            <NavLink\r\n              className=\"px-4 py-1 text-white border-2 border-white border-solid rounded-md\"\r\n              to=\"/login\"\r\n            >\r\n              Login\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              className=\"px-4 py-1 text-gray-800 bg-white border-2 border-white border-solid rounded-md\"\r\n              to=\"/signup\"\r\n            >\r\n              Sign up\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <div className={`${isLoggedIn ? \"\" : \"hidden\"} `}>\r\n        <nav className=\"relative flex items-center\">\r\n          <div\r\n            onClick={dropDownHandler}\r\n            className=\"flex items-center mr-4 text-white cursor-pointer \"\r\n          >\r\n            <Image\r\n              cloudName=\"ds9vpuvdm\"\r\n              secure=\"true\"\r\n              publicId={photo}\r\n              type=\"fetch\"\r\n              alt=\"blog img\"\r\n              className=\"w-10 h-10 mr-2 rounded-full\"\r\n            ></Image>\r\n            <span>{user?.name?.split(\" \")[0]}</span>\r\n          </div>\r\n          <div\r\n            className={`${\r\n              dropDown ? \"block\" : \"hidden\"\r\n            } absolute left-0 z-20 w-1/2 text-sm text-center text-white bg-gray-400 rounded-xl top-8`}\r\n          >\r\n            <Link\r\n              to=\"/my-profile\"\r\n              className=\"inline-block p-1 hover:text-gray-900\"\r\n            >\r\n              My Profile\r\n            </Link>\r\n            <Link\r\n              to=\"/my-blogs\"\r\n              className=\"inline-block p-1 hover:text-gray-900\"\r\n            >\r\n              My Blogs\r\n            </Link>\r\n            <div\r\n              onClick={logoutHandler}\r\n              className=\"p-1 cursor-pointer hover:text-gray-900\"\r\n            >\r\n              Logout\r\n            </div>\r\n          </div>\r\n          <div className=\"mr-2\">\r\n            <Button onClick={logoutHandler} className=\"text-gray-800 bg-white\">\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React from \"react\";\r\nimport MainNavigation from \"./MainNavigation\";\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <MainNavigation />\r\n      <main>{props.children}</main>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","export default __webpack_public_path__ + \"static/media/lightbulb-1875247.6fee9008.jpg\";","import React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport coverImg from \"../../assets/img/lightbulb-1875247.jpg\";\r\n// import Button from \"../Button/Button\";\r\n\r\nconst cookies = new Cookies();\r\nconst BlogsHeader = () => {\r\n  const jwt = cookies.get(\"jwt\");\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn) || !!jwt;\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header>\r\n      <figure className=\"relative\">\r\n        <img src={coverImg} alt=\"cover\"></img>\r\n        <figcaption className=\"absolute text-white top-20 left-4\">\r\n          <div className=\"text-xl font-pacifico \">\r\n            Share your imense knowledge here\r\n          </div>\r\n          <div className={`${isLoggedIn ? \"hidden\" : \"\"}`}>\r\n            <div className=\"flex w-8/12 mt-4 justify-evenly\">\r\n              <Link to=\"/login\" className=\"link\">\r\n                Login\r\n              </Link>\r\n              <Link to=\"/signup\" className=\"text-gray-800 bg-white link\">\r\n                Sign up\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className={`${isLoggedIn ? \"\" : \"hidden\"}`}>\r\n            <div className=\"flex justify-between mt-4\">\r\n              <div\r\n                onClick={() => {\r\n                  history.push(\"/blog-post\");\r\n                }}\r\n                className=\"flex px-8 pt-1 text-gray-300 bg-white rounded-xl\"\r\n              >\r\n                <div className=\"w-0.5 h-6 mr-1 bg-gray-700\"></div>\r\n                <span>Create your blog</span>\r\n              </div>\r\n              <Link to=\"/blog-post\" className=\"text-gray-800 bg-white link\">\r\n                Create\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default BlogsHeader;\r\n","import axios from \"axios\";\r\nconst url = \"https://bloggerserver.herokuapp.com/\";\r\nconst instance = axios.create({\r\n  baseURL: url,\r\n});\r\n\r\nexport default instance;\r\n","import React, { useState } from \"react\";\r\nimport api from \"../../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport Button from \"../Button/Button\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst cookies = new Cookies();\r\nconst Blog = (props) => {\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const pathname = location.pathname; ///my-blogs\r\n  const date = new Date(props.updatedAt).toLocaleDateString(\"en-uk\", {\r\n    day: \"2-digit\",\r\n    month: \"2-digit\",\r\n    year: \"numeric\",\r\n  });\r\n\r\n  const readMoreHandler = () => {\r\n    history.push(`/blogs/${props.id}`);\r\n  };\r\n\r\n  const editBlogHandler = () => {\r\n    history.push(`/update-blog/${props.id}`);\r\n  };\r\n\r\n  const deleteBlogHandler = () => {\r\n    const token = cookies.get(\"jwt\");\r\n\r\n    api.delete(`/api/v1/blogs/${props.id}`, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    setTimeout(() => {\r\n      history.push(\"/\");\r\n    }, 1500);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={pathname !== \"/my-blogs\" ? readMoreHandler : undefined}\r\n      className=\"relative w-11/12 p-2 mx-auto mt-4 bg-white shadow-lg rounded-xl\"\r\n    >\r\n      <div className=\"flex justify-between\">\r\n        <h2 className=\"text-xl font-base \">{props.title}</h2>\r\n        <svg\r\n          onClick={() => {\r\n            setShowOptions((prevState) => !prevState);\r\n          }}\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          className={`${\r\n            pathname === \"/my-blogs\" ? \"\" : \"hidden\"\r\n          } text-gray-400 fill-current feather feather-more-vertical cursor-pointer`}\r\n        >\r\n          <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\r\n          <circle cx=\"12\" cy=\"5\" r=\"1\"></circle>\r\n          <circle cx=\"12\" cy=\"19\" r=\"1\"></circle>\r\n        </svg>\r\n      </div>\r\n      <div\r\n        className={` cursor-pointer absolute ${\r\n          showOptions ? \"\" : \"hidden\"\r\n        } w-1/3 text-sm text-center text-white bg-gray-400 right-4 rounded-xl top-8`}\r\n      >\r\n        <div onClick={editBlogHandler} className=\"p-1 hover:text-gray-900\">\r\n          Edit\r\n        </div>\r\n        <div onClick={deleteBlogHandler} className=\"p-1 hover:text-gray-900\">\r\n          Delete\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-between\">\r\n        <p className=\"text-gray-400\">{props.author}</p>\r\n        <p className=\"text-gray-400\">{date}</p>\r\n      </div>\r\n      <div>\r\n        <p className=\"mt-2 mb-2 text-gray-600\">\r\n          {`${props.about}`.slice(0, 80)}...\r\n        </p>\r\n        <Button onClick={readMoreHandler} className=\"bg-gray-800\">\r\n          Read more\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Blog;\r\n","import React from \"react\";\r\nimport Button from \"../Button/Button\";\r\n\r\nconst BlogFilter = (props) => {\r\n  // const history = useHistory();\r\n  const sortResultHandler = (e) => {\r\n    const value = e.target.textContent.toLowerCase();\r\n    // history.push(`?sort=${value}`);\r\n    props.onSort(value);\r\n  };\r\n  const filterResultHandler = (e) => {\r\n    let value = e.target.textContent.toLowerCase();\r\n    if (value === \"design\") value = \"ui-ux\";\r\n    // history.push(`?filter=${value}`);\r\n    props.onFilter(value);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"flex items-center overflow-x-scroll\">\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          MERN\r\n        </Button>\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          Technology\r\n        </Button>\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          Fiction\r\n        </Button>\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          Design\r\n        </Button>\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          Entertainment\r\n        </Button>\r\n        <Button onClick={filterResultHandler} className=\"bg-gray-800 link\">\r\n          Sports\r\n        </Button>\r\n      </div>\r\n      <div className=\"flex items-center justify-evenly\">\r\n        <span>Sort: </span>\r\n        <Button\r\n          onClick={sortResultHandler}\r\n          className=\"mt-2 ml-3 bg-yellow-500 border-none\"\r\n        >\r\n          New\r\n        </Button>\r\n        <Button\r\n          onClick={sortResultHandler}\r\n          className=\"mt-2 ml-3 bg-yellow-500 border-none\"\r\n        >\r\n          Old\r\n        </Button>\r\n        <Button\r\n          onClick={sortResultHandler}\r\n          className=\"mt-2 ml-3 bg-yellow-500 border-none\"\r\n        >\r\n          Popular\r\n        </Button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BlogFilter;\r\n","import classes from \"./LoadingSpinner.module.css\";\n\nconst LoadingSpinner = (props) => {\n  return (\n    <div\n      className={`flex items-center justify-center ${\n        props.updateClass ? props.updateClass : \"h-screen\"\n      } `}\n    >\n      <div className={`${classes.spinner}`}></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { sendRequest } from \"../store/send-request\";\r\n\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport BlogsHeader from \"../components/Blogs/BlogsHeader\";\r\nimport Blog from \"../components/Blogs/Blog\";\r\nimport BlogFilter from \"../components/Blogs/BlogFilter\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst Blogs = () => {\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [sort, setSort] = useState(\"-updatedAt\");\r\n  const [page, setPage] = useState(1);\r\n  const isLoading = useSelector((state) => state.request.isLoading); // initial false\r\n  const data = useSelector((state) => state.request.data); // initial []\r\n  const error = useSelector((state) => state.request.error); // initial []\r\n  const dispatch = useDispatch();\r\n\r\n  const filterQuery = filter.length === 0 ? \"\" : `&blogType=${filter}`;\r\n\r\n  let sortQuery = `sort=-updatedAt`;\r\n  if (sort === \"new\") sortQuery = \"sort=-updatedAt\";\r\n  if (sort === \"old\") sortQuery = \"sort=updatedAt\";\r\n  if (sort === \"popular\") sortQuery = \"sort=-likes\";\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      sendRequest(\r\n        \"GET\",\r\n        `/api/v1/blogs?${sortQuery}${filterQuery}&page=${page}&limit=5`\r\n      )\r\n    );\r\n  }, [dispatch, filterQuery, sortQuery, page]);\r\n\r\n  const filterHanlder = (value) => {\r\n    setFilter(value);\r\n  };\r\n  const sortHanlder = (value) => {\r\n    setSort(value);\r\n  };\r\n\r\n  const previousClickHandler = () => {\r\n    if (page > 1) setPage((prevState) => prevState - 1);\r\n    return;\r\n  };\r\n\r\n  const nextClickHandler = () => {\r\n    const results = data?.data?.blogs.length;\r\n    // 14-->20 which allows to click the next btn\r\n    if (results >= 5) setPage((prevState) => prevState + 1);\r\n    return;\r\n  };\r\n  const blog = data?.data?.blogs?.map((blog) => (\r\n    <Blog\r\n      key={blog._id}\r\n      id={blog._id}\r\n      author={blog.author.name}\r\n      title={blog.title}\r\n      updatedAt={blog.updatedAt}\r\n      about={blog.about}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Layout>\r\n      <BlogsHeader />\r\n      {isLoading && <LoadingSpinner />}\r\n      <section className=\"mt-2 \">\r\n        <BlogFilter onFilter={filterHanlder} onSort={sortHanlder} />\r\n      </section>\r\n      {error && <p className=\"mt-10 text-red-500\">{error}</p>}\r\n      <section>{data && blog}</section>\r\n      <section className=\"flex justify-between mx-4 my-4 \">\r\n        <button\r\n          onClick={previousClickHandler}\r\n          className=\"px-6 py-1 text-sm text-white bg-gray-800 cursor-pointer rounded-xl\"\r\n        >\r\n          Prev\r\n        </button>\r\n        <button\r\n          onClick={nextClickHandler}\r\n          className=\"px-6 py-1 text-sm text-white bg-gray-800 cursor-pointer rounded-xl\"\r\n        >\r\n          Next\r\n        </button>\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Blogs;\r\n","import React from \"react\";\r\nimport { Image } from \"cloudinary-react\";\r\n// import coverImg from \"../../assets/img/lightbulbm -1875247.jpg\";\r\n\r\nconst BlogDetailHeader = (props) => {\r\n  let { image } = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <header>\r\n        <Image\r\n          className=\"mx-auto h-11/12\"\r\n          cloudName=\"ds9vpuvdm\"\r\n          secure=\"true\"\r\n          publicId={image}\r\n          type=\"fetch\"\r\n          alt=\"blog img\"\r\n        ></Image>\r\n      </header>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BlogDetailHeader;\r\n","import React from \"react\";\r\n\r\nconst BlogDetailContent = (props) => {\r\n  let { title, about, author, updatedAt, blogType } = props;\r\n\r\n  return (\r\n    <section className=\"p-2 m-1 bg-white rounded-md\">\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-2xl font-semibold border-b-2\">{title}</h2>\r\n      </div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-lg\">{blogType}</h3>\r\n        <div className=\"flex flex-col text-gray-500\">\r\n          <span>{author}</span>\r\n          <span>\r\n            {new Date(updatedAt).toLocaleDateString(\"en-uk\", {\r\n              day: \"2-digit\",\r\n              month: \"numeric\",\r\n              year: \"numeric\",\r\n            })}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-2 text-gray-600\">\r\n        <p className=\"text-justify\">{about}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BlogDetailContent;\r\n","import React from \"react\";\r\nimport { Image } from \"cloudinary-react\";\r\n// import userImg from \"../../assets/img/lightbulb-1875247.jpg\";\r\nconst Comments = (props) => {\r\n  const { userPhoto, userName, updatedAt, comment } = props;\r\n\r\n  return (\r\n    <div className=\"flex items-center mx-4 mt-2 bg-gray-200 rounded-xl\">\r\n      <Image\r\n        className=\"w-12 h-12 m-2 rounded-full\"\r\n        cloudName=\"ds9vpuvdm\"\r\n        secure=\"true\"\r\n        publicId={userPhoto}\r\n        type=\"fetch\"\r\n        alt=\"blog img\"\r\n      />\r\n      <div className=\"ml-2\">\r\n        <div className=\"flex items-center justify-between text-blue-500 w-60\">\r\n          <p>{userName}</p>\r\n          <p className=\"text-sm text-gray-500\">\r\n            {new Date(updatedAt).toLocaleDateString(\"en-uk\", {\r\n              day: \"2-digit\",\r\n              month: \"2-digit\",\r\n              year: \"numeric\",\r\n            })}\r\n          </p>\r\n        </div>\r\n        <div>{comment}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport Comments from \"../Comments/Comments\";\r\nimport LoadingSpinner from \"../../UI/LoadingSpinner\";\r\nimport api from \"../../api/api\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst BlogDetailLikeAndComment = (props) => {\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [like, setLike] = useState(false);\r\n  const [alreadyLiked, setAlreadyLiked] = useState(false);\r\n  const [likedId, setLikedId] = useState(\"\");\r\n  const [commentsArr, setCommentsArr] = useState([]);\r\n  const [newComment, setNewComment] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const commentInputRef = useRef();\r\n  const { blogId, comments } = props;\r\n  let { likes } = props;\r\n\r\n  const token = cookies.get(\"jwt\");\r\n  //GET COMMENTS\r\n  useEffect(() => {\r\n    const sendRequest = async () => {\r\n      setIsLoading(true);\r\n      const response = await api.get(`/api/v1/blogs/${blogId}/comments`, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      setIsLoading(false);\r\n\r\n      setCommentsArr(response?.data?.data?.comments);\r\n    };\r\n    if (showComments || newComment) {\r\n      sendRequest();\r\n    }\r\n  }, [showComments, blogId, newComment, token]);\r\n\r\n  //GET LIKES\r\n  useEffect(() => {\r\n    const sendRequest = async () => {\r\n      const response = await api.get(`/api/v1/blogs/${blogId}/likes`, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const likedBlog = response?.data?.data?.likedBlog;\r\n      // console.log(likedBlog);\r\n      setAlreadyLiked(!!likedBlog);\r\n    };\r\n\r\n    try {\r\n      blogId && sendRequest();\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n    }\r\n  }, [token, blogId]);\r\n\r\n  useEffect(() => {\r\n    const deleteLike = async () => {\r\n      try {\r\n        const response = await api.delete(\r\n          `/api/v1/likes/${likedId}`,\r\n          {},\r\n          {\r\n            headers: {\r\n              authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        console.log(response);\r\n      } catch (error) {\r\n        console.log(error.response.data);\r\n      }\r\n    };\r\n\r\n    if (likedId && !like) {\r\n      deleteLike();\r\n    }\r\n  }, [likedId, like, token]);\r\n\r\n  const showCommentHandler = () => {\r\n    setShowComments((prevState) => !prevState);\r\n  };\r\n  const likeChangeHandler = () => {\r\n    setLike((prevState) => !prevState);\r\n  };\r\n\r\n  const createLikeRequest = async () => {\r\n    try {\r\n      const response = await api.post(\r\n        `/api/v1/blogs/${blogId}/likes`,\r\n        {},\r\n        {\r\n          headers: {\r\n            authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      setLikedId(response?.data?.data?.newLike?._id);\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n    }\r\n  };\r\n\r\n  // const throttle = (fun, limit) => {\r\n  //   let flag = true;\r\n  //   return function () {\r\n  //     if (flag) {\r\n  //       fun();\r\n  //       flag = false;\r\n  //       setTimeout(() => {\r\n  //         // fun();\r\n  //         flag = true;\r\n  //       }, limit);\r\n  //     }\r\n  //   };\r\n  // };\r\n\r\n  // const advanceRequest = throttle(createLikeRequest, 3000);\r\n\r\n  if (like) likes = likes + 1;\r\n  if (like) {\r\n    createLikeRequest();\r\n  }\r\n\r\n  const commentPostHandler = async (e) => {\r\n    e.preventDefault();\r\n    const enteredComment = commentInputRef.current.value;\r\n    try {\r\n      const response = api.post(\r\n        `/api/v1/blogs/${blogId}/comments`,\r\n        { comment: enteredComment },\r\n        {\r\n          headers: {\r\n            authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(response);\r\n      commentInputRef.current.value = \"\";\r\n      setNewComment(true);\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n    }\r\n  };\r\n\r\n  const allComments = commentsArr?.map((comment) => (\r\n    <Comments\r\n      key={comment._id}\r\n      comment={comment.comment}\r\n      userName={comment.user.name}\r\n      userPhoto={comment.user.photo}\r\n      updatedAt={comment.updatedAt}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <form\r\n          onSubmit={commentPostHandler}\r\n          className=\"flex items-center justify-between mx-1\"\r\n        >\r\n          <textarea\r\n            ref={commentInputRef}\r\n            className=\"w-10/12 border-2 border-gray-400 border-solid h-7\"\r\n            type=\"text\"\r\n            defaultValue={commentInputRef?.current?.value}\r\n            autoFocus\r\n            minLength={1}\r\n          ></textarea>\r\n          <button className=\"px-3 py-1 text-white bg-blue-500 rounded-lg cursor-pointer\">\r\n            Post\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"flex items-center justify-between mx-4\">\r\n        <div\r\n          onClick={likeChangeHandler}\r\n          className=\"flex items-center cursor-pointer\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            className={` mr-2 fill-current feather feather-thumbs-up ${\r\n              like || alreadyLiked ? \"text-blue-600\" : \"text-gray-400\"\r\n            }`}\r\n          >\r\n            <path d=\"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3\"></path>\r\n          </svg>\r\n          <span className=\"mt-1\">{likes}</span>\r\n        </div>\r\n        <div\r\n          className=\"text-blue-600 cursor-pointer\"\r\n          onClick={showCommentHandler}\r\n          id=\"comments\"\r\n        >\r\n          {newComment ? commentsArr.length : comments} comments\r\n        </div>\r\n      </div>\r\n\r\n      {isLoading && <LoadingSpinner updateClass=\"h-20\" />}\r\n\r\n      {showComments && allComments}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BlogDetailLikeAndComment;\r\n","import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { sendRequest } from \"../store/send-request\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport BlogDetailHeader from \"../components/Blogs/BlogDetailHeader\";\r\nimport BlogDetailContent from \"../components/Blogs/BlogDetailContent\";\r\nimport BlogDetailLikeAndComment from \"../components/Blogs/BlogDetailLikeAndComment\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst BlogDetail = () => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector((state) => state.request.isLoading);\r\n  const data = useSelector((state) => state.request.data);\r\n  const error = useSelector((state) => state.request.error);\r\n  const { blogId } = params;\r\n  const blog = data?.data?.blog;\r\n  useEffect(() => {\r\n    dispatch(sendRequest(\"GET\", `/api/v1/blogs/${blogId}`));\r\n  }, [dispatch, blogId]);\r\n\r\n  if (error)\r\n    return (\r\n      <Layout>\r\n        <p>Error finding blog</p>\r\n      </Layout>\r\n    );\r\n\r\n  return (\r\n    <Layout>\r\n      {isLoading && <LoadingSpinner />}\r\n      <BlogDetailHeader image={blog?.image} />\r\n\r\n      <BlogDetailContent\r\n        title={blog?.title}\r\n        author={blog?.author.name}\r\n        blogType={blog?.blogType}\r\n        updatedAt={blog?.updatedAt}\r\n        about={blog?.about}\r\n      />\r\n      <section>\r\n        <BlogDetailLikeAndComment\r\n          blogId={blog?._id}\r\n          likes={blog?.likes}\r\n          comments={blog?.comments}\r\n        />\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default BlogDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\n\r\nconst Popup = (props) => {\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setVisible(false);\r\n    }, 1500);\r\n  }, []);\r\n\r\n  let Alert = () => {\r\n    const type = props.type;\r\n    return (\r\n      <div\r\n        className={`${\r\n          type === \"success\" ? \"bg-green-500\" : \"bg-red-500\"\r\n        } flex items-center justify-center p-2 mx-auto `}\r\n      >\r\n        <p className=\"text-sm text-white\">{props.children}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!visible)\r\n    Alert = () => {\r\n      return <div />;\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDom.createPortal(<Alert />, document.getElementById(\"popup\"))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { sendRequest } from \"../../store/send-request\";\r\nimport { formActions } from \"../../store/validate-form\";\r\nimport { authActions } from \"../../store/auth-token\";\r\n// import Button from \"../Button/Button\";\r\nimport Popup from \"../../UI/Popup\";\r\n\r\nconst cookies = new Cookies();\r\nconst SignupForm = () => {\r\n  const history = useHistory();\r\n  const nameIsValid = useSelector((state) => state.form.inputIsValid);\r\n  const emailIsValid = useSelector((state) => state.form.emailIsValid);\r\n  const passwordIsValid = useSelector((state) => state.form.passwordIsValid);\r\n  const error = useSelector((state) => state.request.error);\r\n  const data = useSelector((state) => state.request.data);\r\n  const dispatch = useDispatch();\r\n  // console.log(data);\r\n  const token = data?.token;\r\n  const user = data?.data?.user;\r\n\r\n  useEffect(() => {\r\n    if (token && user) {\r\n      cookies.set(\"jwt\", token, {\r\n        path: \"/\",\r\n        expires: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),\r\n      });\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      dispatch(authActions.login({ token, user }));\r\n    }\r\n  }, [dispatch, user, token]);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      setTimeout(() => {\r\n        history.replace(\"/\");\r\n      }, 2500);\r\n    }\r\n  }, [history, token]);\r\n\r\n  // console.log(token, user);\r\n\r\n  const formIsValid = nameIsValid && emailIsValid && passwordIsValid;\r\n\r\n  const nameInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const passwordConfirmInputRef = useRef();\r\n\r\n  const nameBlurHanlder = () => {\r\n    const enteredName = nameInputRef.current.value;\r\n    dispatch(formActions.validName(enteredName));\r\n  };\r\n  const emailBlurHanlder = () => {\r\n    const enteredEmail = emailInputRef.current.value;\r\n    dispatch(formActions.validEmail(enteredEmail));\r\n  };\r\n  const passwordBlurHandler = () => {\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    dispatch(formActions.validPassword(enteredPassword));\r\n  };\r\n  const passwordConfirmBlurHandler = () => {\r\n    const enteredPasswordConfirm = passwordConfirmInputRef.current.value;\r\n    dispatch(formActions.validPassword(enteredPasswordConfirm));\r\n  };\r\n\r\n  const submitHanlder = (e) => {\r\n    e.preventDefault();\r\n    if (!formIsValid) return;\r\n\r\n    console.log(\"Form is Valid\");\r\n    dispatch(\r\n      sendRequest(\"POST\", \"/api/v1/users/signup\", {\r\n        name: nameInputRef.current.value,\r\n        email: emailInputRef.current.value,\r\n        password: passwordInputRef.current.value,\r\n        passwordConfirm: passwordConfirmInputRef.current.value,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {token && <Popup type=\"error\">Signed up successfully</Popup>}\r\n      {error && <Popup type=\"error\">{error}</Popup>}\r\n      <form\r\n        onSubmit={submitHanlder}\r\n        className=\"flex flex-col w-10/12 mx-auto mt-44\"\r\n      >\r\n        <input\r\n          onBlur={nameBlurHanlder}\r\n          ref={nameInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"name\"\r\n        ></input>\r\n        <input\r\n          onBlur={emailBlurHanlder}\r\n          ref={emailInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n        ></input>\r\n        <input\r\n          onBlur={passwordBlurHandler}\r\n          ref={passwordInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n        ></input>\r\n        <input\r\n          onBlur={passwordConfirmBlurHandler}\r\n          ref={passwordConfirmInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"password-confirm\"\r\n          type=\"password\"\r\n          placeholder=\"password confirm\"\r\n        ></input>\r\n        {!formIsValid && <p className=\"text-red-500\">Form is not valid</p>}\r\n        <button className=\"text-white bg-gray-700\">Sign Up</button>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n","import React from \"react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport SignupForm from \"../components/Signup/SignupForm\";\r\n\r\nconst Signup = () => {\r\n  return (\r\n    <Layout>\r\n      <SignupForm />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { formActions } from \"../../store/validate-form\";\r\nimport { sendRequest } from \"../../store/send-request\";\r\nimport { authActions } from \"../../store/auth-token\";\r\nimport Popup from \"../../UI/Popup\";\r\n// import Button from \"../Button/Button\";\r\nconst cookies = new Cookies();\r\n\r\nconst LoginForm = () => {\r\n  const history = useHistory();\r\n  const emailIsValid = useSelector((state) => state.form.emailIsValid);\r\n  const passwordIsValid = useSelector((state) => state.form.passwordIsValid);\r\n  const data = useSelector((state) => state.request.data);\r\n  const error = useSelector((state) => state.request.error); // initial null\r\n  const dispatch = useDispatch();\r\n\r\n  const token = data?.token;\r\n  const user = data?.data?.user;\r\n  console.log(error);\r\n\r\n  useEffect(() => {\r\n    if (user && token) {\r\n      cookies.set(\"jwt\", token, {\r\n        path: \"/\",\r\n        expires: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),\r\n      });\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      dispatch(authActions.login({ token: token, user: user }));\r\n    }\r\n  }, [dispatch, user, token]);\r\n\r\n  useEffect(() => {\r\n    if (token)\r\n      setTimeout(() => {\r\n        history.replace(\"/\");\r\n      }, 2000);\r\n  }, [history, token]);\r\n\r\n  const formIsValid = emailIsValid && passwordIsValid;\r\n\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const emailBlurHandler = () => {\r\n    const enteredEmail = emailInputRef.current.value;\r\n    dispatch(formActions.validEmail(enteredEmail));\r\n  };\r\n  const passwordBlurHandler = () => {\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    dispatch(formActions.validPassword(enteredPassword));\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!formIsValid) return;\r\n    console.log(\"Form is valid\");\r\n\r\n    // form valid then send login request\r\n    dispatch(\r\n      sendRequest(\"POST\", `/api/v1/users/login`, {\r\n        email: emailInputRef.current.value,\r\n        password: passwordInputRef.current.value,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data.token && <Popup type=\"success\">Logged in successfully!</Popup>}\r\n      {error && <Popup type=\"error\">{error}</Popup>}\r\n      <form\r\n        onSubmit={submitHandler}\r\n        className=\"flex flex-col w-10/12 mx-auto mt-44\"\r\n      >\r\n        <input\r\n          ref={emailInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          onBlur={emailBlurHandler}\r\n        ></input>\r\n        <input\r\n          ref={passwordInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          onBlur={passwordBlurHandler}\r\n        ></input>\r\n        {!formIsValid && <p className=\"text-red-500\">Form is not valid</p>}\r\n        <button className=\"text-white bg-gray-700\">Login</button>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport LoginForm from \"../components/Login/LoginForm\";\r\n\r\nconst Login = () => {\r\n  return (\r\n    <Layout>\r\n      <LoginForm />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import axios from \"axios\";\r\nimport api from \"../../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { formActions } from \"../../store/validate-form\";\r\nimport { sendRequest } from \"../../store/send-request\";\r\n\r\nimport Button from \"../Button/Button\";\r\n\r\nconst cookies = new Cookies();\r\nconst BlogPostForm = () => {\r\n  const history = useHistory();\r\n  //UPLOADING IMAGE\r\n  const [progress, setProgress] = useState(0);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [urlError, setUrlError] = useState(null);\r\n  // INPUT VALIDATION\r\n  const titleIsValid = useSelector((state) => state.form.inputIsValid); //boolean\r\n  const aboutIsValid = useSelector((state) => state.form.aboutIsValid); //boolean\r\n  const error = useSelector((state) => state.request.error); //boolean\r\n\r\n  // INPUT REF\r\n  const blogTypeInputRef = useRef();\r\n  const titleInputRef = useRef();\r\n  const aboutInputRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let formIsValid = titleIsValid && aboutIsValid;\r\n\r\n  const titleBlurHandler = () => {\r\n    dispatch(formActions.validName(titleInputRef.current.value));\r\n  };\r\n  const aboutBlurHandler = () => {\r\n    dispatch(formActions.validAbout(aboutInputRef.current.value));\r\n  };\r\n\r\n  const imageUploadHandler = async (e) => {\r\n    e.preventDefault();\r\n    const token = cookies.get(\"jwt\");\r\n    const imageFile = e.target.files[0];\r\n\r\n    const form = new FormData();\r\n    form.append(\"file\", imageFile);\r\n\r\n    try {\r\n      const response = await api.post(`/api/v1/upload`, form, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          const { loaded, total } = progressEvent;\r\n          let percentage = Math.floor((loaded * 100) / total);\r\n          if (percentage < 100) setProgress(percentage);\r\n        },\r\n      });\r\n      setUrlError(null);\r\n      setProgress(100);\r\n      setImageUrl(response?.data?.data?.url);\r\n    } catch (error) {\r\n      console.log(error.response);\r\n      setUrlError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!formIsValid) return;\r\n\r\n    //form is valid\r\n    console.log(\"Form is valid\");\r\n\r\n    let enteredBlogType = blogTypeInputRef.current.value;\r\n    if (enteredBlogType === \"design\") enteredBlogType = \"ui-ux\";\r\n    const enteredTitle = titleInputRef.current.value;\r\n    const enteredAbout = aboutInputRef.current.value;\r\n    let image = null;\r\n    if (imageUrl) image = imageUrl;\r\n\r\n    dispatch(\r\n      sendRequest(\"POST\", `/api/v1/blogs`, {\r\n        blogType: enteredBlogType,\r\n        title: enteredTitle,\r\n        about: enteredAbout,\r\n        image: image,\r\n      })\r\n    );\r\n\r\n    setTimeout(() => {\r\n      history.replace(\"/\");\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler} className=\"w-10/12 mx-auto mt-2\">\r\n      {error && <p className=\"text-red-500\">{error}</p>}\r\n      <div>\r\n        <label htmlFor=\"type\">Blog Type: </label>\r\n        <select ref={blogTypeInputRef} id=\"type\">\r\n          <option value=\"technology\">Technology</option>\r\n          <option value=\"mern\">MERN</option>\r\n          <option value=\"design\">Design</option>\r\n          <option value=\"sports\">Sports</option>\r\n          <option value=\"entertainment\">Entertainment</option>\r\n          <option value=\"fiction\">Fiction</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"flex flex-col\">\r\n        <label htmlFor=\"title\">Title</label>\r\n        <input\r\n          ref={titleInputRef}\r\n          autoFocus\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"title\"\r\n          type=\"text\"\r\n          placeholder=\"Amazing title...\"\r\n          onBlur={titleBlurHandler}\r\n        ></input>\r\n        {!titleIsValid && <p className=\"text-red-500\">Please provide title</p>}\r\n      </div>\r\n      <div className=\"flex flex-col mt-2\">\r\n        <label htmlFor=\"about\">About</label>\r\n        <textarea\r\n          ref={aboutInputRef}\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"about\"\r\n          type=\"text\"\r\n          placeholder=\"Exciting stuff...\"\r\n          rows=\"15\"\r\n          onBlur={aboutBlurHandler}\r\n        ></textarea>\r\n        {!aboutIsValid && (\r\n          <p className=\"text-red-500\">Please provide blog detail</p>\r\n        )}\r\n      </div>\r\n      <div className=\"flex flex-col mt-2\">\r\n        <label htmlFor=\"file\">Upload (Optional) </label>\r\n        <input\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"file\"\r\n          type=\"file\"\r\n          name=\"file\"\r\n          accept=\"image/*\"\r\n          onInput={imageUploadHandler}\r\n        ></input>\r\n        {urlError && <p className=\"text-red-500\">{urlError}</p>}\r\n        {progress > 0 && (\r\n          <p className=\"text-blue-600\">\r\n            <span>{progress < 100 ? \"Uploading \" : \"Uploaded \"}</span>\r\n            <span className=\"text-green-500\">{progress}</span>%\r\n          </p>\r\n        )}\r\n      </div>\r\n      <Button onClick={submitHandler} className=\"mt-2 bg-gray-700\">\r\n        Post\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BlogPostForm;\r\n","import React from \"react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport BlogPostForm from \"../components/Blogs/BlogPostForm\";\r\n\r\nconst BlogPost = () => {\r\n  return (\r\n    <Layout>\r\n      <BlogPostForm />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default BlogPost;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { sendRequest } from \"../store/send-request\";\r\n\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport Blog from \"../components/Blogs/Blog\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst MyBlogs = () => {\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector((state) => state.request.isLoading);\r\n  const data = useSelector((state) => state.request.data);\r\n  const blog = data?.data?.blogs?.map((blog) => (\r\n    <Blog\r\n      key={blog._id}\r\n      id={blog._id}\r\n      author={blog.author.name}\r\n      title={blog.title}\r\n      updatedAt={blog.updatedAt}\r\n      about={blog.about}\r\n    />\r\n  ));\r\n\r\n  useEffect(() => {\r\n    dispatch(sendRequest(\"GET\", `/api/v1/users/myBlogs`));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Layout>\r\n      <h2 className=\"mt-2 ml-4 text-lg font-bold\">My Blogs</h2>\r\n      {isLoading && <LoadingSpinner />}\r\n      {blog?.length === 0 && (\r\n        <p className=\"text-xl text-center text-blue-600\">\r\n          Seems you don't have any blog. Create One!\r\n        </p>\r\n      )}\r\n      {blog}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MyBlogs;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Image } from \"cloudinary-react\";\r\nimport api from \"../../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// import Button from \"../Button/Button\";\r\n// import userImg from \"../../assets/img/lightbulb-1875247.jpg\";\r\nconst cookies = new Cookies();\r\nconst MyProfileForm = (props) => {\r\n  const history = useHistory();\r\n  const [progress, setProgress] = useState(0);\r\n  const nameInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const fileInputRef = useRef();\r\n  const currentPasswordInputRef = useRef();\r\n  const newPasswordInputRef = useRef();\r\n  const confirmPasswordInputRef = useRef();\r\n\r\n  const { name, email, photo } = props;\r\n  const [url, setUrl] = useState(photo);\r\n\r\n  const token = cookies.get(\"jwt\");\r\n  const uploadFileHandler = async (e) => {\r\n    const imageFile = e.target.files[0];\r\n    const form = new FormData();\r\n    form.append(\"file\", imageFile);\r\n\r\n    try {\r\n      const response = await api.post(\"/api/v1/upload\", form, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          const { loaded, total } = progressEvent;\r\n          const percent = Math.floor((loaded * 100) / total);\r\n          if (percent < 86) setProgress(percent);\r\n        },\r\n      });\r\n      console.log(response);\r\n      setProgress(100);\r\n      setUrl(response?.data?.data?.url);\r\n    } catch (error) {\r\n      const message = error.response.data.message;\r\n      alert(message);\r\n    }\r\n  };\r\n\r\n  const profileSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const photo = url;\r\n    try {\r\n      const response = await api.patch(\r\n        \"/api/v1/users/updateMe\",\r\n        {\r\n          name: enteredName,\r\n          email: enteredEmail,\r\n          photo: photo,\r\n        },\r\n        {\r\n          headers: {\r\n            authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      localStorage.setItem(\"user\", JSON.stringify(response?.data?.data?.user));\r\n      setTimeout(() => {\r\n        history.push(\"/\");\r\n      }, 1500);\r\n    } catch (error) {\r\n      const message = error.response.data.message;\r\n      alert(message);\r\n    }\r\n  };\r\n\r\n  const updatePasswordHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const enteredCurrentPass = currentPasswordInputRef.current.value;\r\n    const enteredNewPass = newPasswordInputRef.current.value;\r\n    const enteredConfirmPass = confirmPasswordInputRef.current.value;\r\n\r\n    try {\r\n      const response = await api.post(\r\n        \"/api/v1/users/updatePassword\",\r\n        {\r\n          passwordCurrent: enteredCurrentPass,\r\n          password: enteredNewPass,\r\n          passwordConfirm: enteredConfirmPass,\r\n        },\r\n        {\r\n          headers: {\r\n            authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(response);\r\n    } catch (error) {\r\n      const message = error.response.data.message;\r\n      alert(message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <form\r\n        onSubmit={profileSubmitHandler}\r\n        className=\"flex flex-col w-10/12 mx-auto mt-10\"\r\n      >\r\n        <input\r\n          ref={nameInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"name\"\r\n          type=\"text\"\r\n          defaultValue={name}\r\n        ></input>\r\n        <input\r\n          ref={emailInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          defaultValue={email}\r\n        ></input>\r\n        <div className=\"grid grid-cols-2 grid-rows-2 gap-y-2\">\r\n          <Image\r\n            className=\"w-16 h-16 rounded-full\"\r\n            cloudName=\"ds9vpuvdm\"\r\n            secure=\"true\"\r\n            publicId={photo}\r\n            type=\"fetch\"\r\n            alt=\"user-img\"\r\n          ></Image>\r\n          <label\r\n            htmlFor=\"photo\"\r\n            className=\"h-10 col-start-2 col-end-3 row-start-1 row-end-2 py-2 mt-3 text-sm text-center bg-gray-600 link\"\r\n          >\r\n            Upload Photo\r\n          </label>\r\n          <input\r\n            ref={fileInputRef}\r\n            className=\"w-11/12 col-start-1 col-end-3 row-start-2\"\r\n            id=\"file\"\r\n            type=\"file\"\r\n            onInput={uploadFileHandler}\r\n          ></input>\r\n          {progress > 0 && (\r\n            <p>\r\n              <span className=\"text-blue-600\">\r\n                {progress < 100 ? \"Uploading \" : \"Uploaded \"}\r\n              </span>\r\n              <span className=\"text-green-600\">{progress}%</span>{\" \"}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <button className=\"text-white bg-gray-700\">Update Profile</button>\r\n      </form>\r\n      <form\r\n        onSubmit={updatePasswordHandler}\r\n        className=\"flex flex-col w-10/12 mx-auto mt-5\"\r\n      >\r\n        <div className=\"mb-4\">Update Password</div>\r\n        <input\r\n          ref={currentPasswordInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"current-password\"\r\n          type=\"password\"\r\n          placeholder=\"current password\"\r\n          minLength={8}\r\n        ></input>\r\n        <input\r\n          ref={newPasswordInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"new-password\"\r\n          minLength={8}\r\n        ></input>\r\n        <input\r\n          ref={confirmPasswordInputRef}\r\n          className=\"p-2 mb-2 rounded-lg\"\r\n          id=\"password-confirm\"\r\n          type=\"password\"\r\n          placeholder=\"password confirm\"\r\n          minLength={8}\r\n        ></input>\r\n        <button className=\"text-white bg-gray-600\">Update</button>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MyProfileForm;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { sendRequest } from \"../store/send-request\";\r\n\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport MyProfileForm from \"../components/MyProfileForm/MyProfileForm\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst MyProfile = () => {\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector((state) => state.request.isLoading);\r\n  const data = useSelector((state) => state.request.data);\r\n  // console.log(data?.data);\r\n  const user = data?.data?.user;\r\n\r\n  useEffect(() => {\r\n    dispatch(sendRequest(\"GET\", \"/api/v1/users/getMe\"));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Layout>\r\n      <h2 className=\"mt-2 ml-4 text-lg font-bold\">My Profile</h2>\r\n      {isLoading && <LoadingSpinner />}\r\n      <MyProfileForm\r\n        name={user?.name}\r\n        email={user?.email}\r\n        photo={user?.photo}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MyProfile;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport api from \"../../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { formActions } from \"../../store/validate-form\";\r\nimport { sendRequest } from \"../../store/send-request\";\r\n\r\nimport Button from \"../Button/Button\";\r\n\r\nconst cookies = new Cookies();\r\nconst BlogPostForm = (props) => {\r\n  const history = useHistory();\r\n\r\n  //UPLOADING IMAGE\r\n  const [progress, setProgress] = useState(0);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  // INPUT VALIDATION\r\n  const titleIsValid = useSelector((state) => state.form.inputIsValid); //boolean\r\n  const aboutIsValid = useSelector((state) => state.form.aboutIsValid); //boolean\r\n  // GET BLOG DATA FROM SERVER\r\n\r\n  // INPUT REF\r\n  const blogTypeInputRef = useRef();\r\n  const titleInputRef = useRef();\r\n  const aboutInputRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { title, about, blogId, imageBlog } = props;\r\n\r\n  const formIsValid = titleIsValid && aboutIsValid;\r\n\r\n  const titleBlurHandler = () => {\r\n    dispatch(formActions.validName(titleInputRef.current.value));\r\n  };\r\n  const aboutBlurHandler = () => {\r\n    dispatch(formActions.validAbout(aboutInputRef.current.value));\r\n  };\r\n\r\n  const imageUploadHandler = async (e) => {\r\n    e.preventDefault();\r\n    const token = cookies.get(\"jwt\");\r\n    const imageFile = e.target.files[0];\r\n\r\n    const form = new FormData();\r\n    form.append(\"file\", imageFile);\r\n\r\n    try {\r\n      const response = await api.post(`/api/v1/upload`, form, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          const { loaded, total } = progressEvent;\r\n          let percentage = Math.floor((loaded * 100) / total);\r\n          if (percentage < 100) setProgress(percentage);\r\n        },\r\n      });\r\n      setError(null);\r\n      setProgress(100);\r\n      setImageUrl(response?.data?.data?.url);\r\n    } catch (error) {\r\n      console.log(error.response);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!formIsValid) return;\r\n\r\n    //form is valid\r\n    console.log(\"Form is valid\");\r\n\r\n    let enteredBlogType = blogTypeInputRef.current.value;\r\n    if (enteredBlogType === \"design\") enteredBlogType = \"ui-ux\";\r\n    const enteredTitle = titleInputRef.current.value;\r\n    const enteredAbout = aboutInputRef.current.value;\r\n    let image = imageBlog; //imageBlog->previous img url\r\n    if (imageUrl) image = imageUrl;\r\n\r\n    dispatch(\r\n      sendRequest(\"PATCH\", `/api/v1/blogs/${blogId}`, {\r\n        blogType: enteredBlogType,\r\n        title: enteredTitle,\r\n        about: enteredAbout,\r\n        image: image,\r\n      })\r\n    );\r\n\r\n    setTimeout(() => {\r\n      history.replace(\"/\");\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler} className=\"w-10/12 mx-auto mt-2\">\r\n      <div>\r\n        <label htmlFor=\"type\">Blog Type: </label>\r\n        <select ref={blogTypeInputRef} id=\"type\">\r\n          <option value=\"technology\">Technology</option>\r\n          <option value=\"mern\">MERN</option>\r\n          <option value=\"design\">Design</option>\r\n          <option value=\"sports\">Sports</option>\r\n          <option value=\"entertainment\">Entertainment</option>\r\n          <option value=\"fiction\">Fiction</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"flex flex-col\">\r\n        <label htmlFor=\"title\">Title</label>\r\n        <input\r\n          ref={titleInputRef}\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"title\"\r\n          type=\"text\"\r\n          defaultValue={title}\r\n          onBlur={titleBlurHandler}\r\n        ></input>\r\n        {!titleIsValid && <p className=\"text-red-500\">Please provide title</p>}\r\n      </div>\r\n      <div className=\"flex flex-col mt-2\">\r\n        <label htmlFor=\"about\">About</label>\r\n        <textarea\r\n          ref={aboutInputRef}\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"about\"\r\n          type=\"text\"\r\n          defaultValue={about}\r\n          rows=\"15\"\r\n          onBlur={aboutBlurHandler}\r\n        ></textarea>\r\n        {!aboutIsValid && (\r\n          <p className=\"text-red-500\">Please provide blog detail</p>\r\n        )}\r\n      </div>\r\n      <div className=\"flex flex-col mt-2\">\r\n        <label htmlFor=\"file\">Upload (Optional) </label>\r\n        <input\r\n          className=\"p-1 mt-1 outline-none\"\r\n          id=\"file\"\r\n          type=\"file\"\r\n          name=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={imageUploadHandler}\r\n        ></input>\r\n        {error && <p className=\"text-red-500\">{error}</p>}\r\n        {progress > 0 && (\r\n          <p className=\"text-blue-600\">\r\n            {progress < 100 ? \"Uploading\" : \"Uploaded\"}\r\n            <span className=\"text-green-500\">{progress}</span>%\r\n          </p>\r\n        )}\r\n      </div>\r\n      <Button onClick={submitHandler} className=\"mt-2 bg-gray-700\">\r\n        Post\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BlogPostForm;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { sendRequest } from \"../store/send-request\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport BlogUpdateForm from \"../components/Blogs/BlogUpdateForm\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst BlogUpdate = () => {\r\n  const params = useParams();\r\n  const isLoading = useSelector((state) => state.request.isLoading);\r\n  const data = useSelector((state) => state.request.data);\r\n  const error = useSelector((state) => state.request.error);\r\n  const dispatch = useDispatch();\r\n  const { blogId } = params;\r\n  const blog = data?.data?.blog;\r\n  useEffect(() => {\r\n    dispatch(sendRequest(\"GET\", `/api/v1/blogs/${blogId}`));\r\n  }, [dispatch, blogId]);\r\n\r\n  return (\r\n    <Layout>\r\n      {isLoading && <LoadingSpinner />}\r\n      {error && <p className=\"text-red-500\">{error}</p>}\r\n      <BlogUpdateForm\r\n        title={blog?.title || \"\"}\r\n        about={blog?.about || \"\"}\r\n        blogId={blogId}\r\n        imageBlog={blog?.image}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default BlogUpdate;\r\n","import React from \"react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout>\r\n      <h2 className=\"mt-20 ml-10 text-2xl text-red-500\">\r\n        Oops! Page Not Found \r\n      </h2>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Cookies from \"universal-cookie\";\n\nimport Blogs from \"./pages/Blogs\";\nimport BlogDetail from \"./pages/BlogDetail\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport BlogPost from \"./pages/BlogPost\";\nimport MyBlogs from \"./pages/MyBlogs\";\nimport MyProfile from \"./pages/MyProfile\";\nimport BlogUpdate from \"./pages/BlogUpdate\";\nimport NotFound from \"./pages/NotFound\";\nconst cookies = new Cookies();\n\nfunction App() {\n  const jwt = cookies.get(\"jwt\");\n  const isLoggedIn = useSelector((state) => state.auth.token) || !!jwt;\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/blogs\" />\n      </Route>\n      <Route exact path=\"/blogs\">\n        <Blogs />\n      </Route>\n      <Route exact path=\"/blogs/:blogId\">\n        {isLoggedIn && <BlogDetail />}\n        {!isLoggedIn && <Redirect to=\"/login\" />}\n      </Route>\n      <Route exact path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/login\">\n        <Login />\n      </Route>\n      <Route exact path=\"/blog-post\">\n        {isLoggedIn && <BlogPost />}\n        {!isLoggedIn && <Redirect to=\"/login\" />}\n      </Route>\n      <Route exact path=\"/my-blogs\">\n        {isLoggedIn && <MyBlogs />}\n        {!isLoggedIn && <Redirect to=\"/login\" />}\n      </Route>\n      <Route exact path=\"/my-profile\">\n        {isLoggedIn && <MyProfile />}\n        {!isLoggedIn && <Redirect to=\"/login\" />}\n      </Route>\n      <Route exact path=\"/update-blog/:blogId\">\n        {isLoggedIn && <BlogUpdate />}\n        {!isLoggedIn && <Redirect to=\"/login\" />}\n      </Route>\n      <Route exact path=\"*\">\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}